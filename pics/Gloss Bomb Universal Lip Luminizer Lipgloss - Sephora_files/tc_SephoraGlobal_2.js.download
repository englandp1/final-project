/*
 * tagContainer Generator v33
 * Copyright Commanders Act
 * https://www.commandersact.com/fr/
 * Generated: 2019-12-09 15:06:47 Europe/Paris
 * ---
 * Version	: 10.40
 * IDTC 	: 2
 * IDS		: 1010
 */
/*!compressed by YUI*/ if(typeof tC=="undefined"){if(typeof document.domain=="undefined"||typeof document.referrer=="undefined"){document=window.document}(function(m,k){var j,r,y=m.document,a=m.location,e=m.navigator,x=m.tC,v=m.$,H=Array.prototype.push,b=Array.prototype.slice,u=Array.prototype.indexOf,g=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=String.prototype.trim,c=function(J,K){return new c.fn.init(J,K,j)},B=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,q=/\S/,t=/\s+/,d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/^[\],:{}\s]*$/,z=/(?:^|:|,)(?:\s*\[)+/g,G=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,E=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,I=/^-ms-/,p=/-([\da-z])/gi,F=function(J,K){return(K+"").toUpperCase()},f={};c.fn=c.prototype={constructor:c,init:function(J,M,P){var L,N,K,O;if(!J){return this}if(J.nodeType){this.context=this[0]=J;this.length=1;return this}if(typeof J==="string"){if(J.charAt(0)==="<"&&J.charAt(J.length-1)===">"&&J.length>=3){L=[null,J,null]}else{L=w.exec(J)}if(L&&(L[1]||!M)){if(L[1]){M=M instanceof c?M[0]:M;O=(M&&M.nodeType?M.ownerDocument||M:y);J=c.parseHTML(L[1],O,true);if(l.test(L[1])&&c.isPlainObject(M)){this.attr.call(J,M,true)}return c.merge(this,J)}else{N=y.getElementById(L[2]);if(N&&N.parentNode){if(N.id!==L[2]){return P.find(J)}this.length=1;this[0]=N}this.context=y;this.selector=J;return this}}else{if(!M||M.tC){return(M||P).find(J)}else{return this.constructor(M).find(J)}}}else{if(c.isFunction(J)){return P.ready(J)}}if(J.selector!==k){this.selector=J.selector;this.context=J.context}return c.makeArray(J,this)},each:function(K,J){return c.each(this,K,J)},ready:function(J){c.ready.promise(J);return this}};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var S,L,J,K,P,Q,O=arguments[0]||{},N=1,M=arguments.length,R=false;if(typeof O==="boolean"){R=O;O=arguments[1]||{};N=2}if(typeof O!=="object"&&!c.isFunction(O)){O={}}if(M===N){O=this;--N}for(;N<M;N++){if((S=arguments[N])!=null){for(L in S){J=O[L];K=S[L];if(O===K){continue}if(R&&K&&(c.isPlainObject(K)||(P=c.isArray(K)))){if(P){P=false;Q=J&&c.isArray(J)?J:[]}else{Q=J&&c.isPlainObject(J)?J:{}}O[L]=c.extend(R,Q,K)}else{if(K!==k){O[L]=K}}}}}return O};c.extend({ssl:"https://manager.",randOrd:function(){return(Math.round(Math.random())-0.5)},nodeNames:"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rnocache:/<(?:script|object|embed|option|style)/i,rnoshimcache:new RegExp("<(?:"+c.nodeNames+")[\\s/>]","i"),rchecked:/checked\s*(?:[^=]|=\s*.checked.)/i,containersLaunched:{}});c.extend({inArray:function(N,K,M){var J,L=Array.prototype.indexOf;if(K){if(L){return L.call(K,N,M)}J=K.length;M=M?M<0?Math.max(0,J+M):M:0;for(;M<J;M++){if(M in K&&K[M]===N){return M}}}return -1},isFunction:function(J){return c.type(J)==="function"},isArray:Array.isArray||function(J){return c.type(J)==="array"},isWindow:function(J){return J!=null&&J==J.window},isNumeric:function(J){return !isNaN(parseFloat(J))&&isFinite(J)},type:function(J){return J==null?String(J):f[g.call(J)]||"object"},each:function(O,P,L){var K,M=0,N=O.length,J=N===k||c.isFunction(O);if(L){if(J){for(K in O){if(P.apply(O[K],L)===false){break}}}else{for(;M<N;){if(P.apply(O[M++],L)===false){break}}}}else{if(J){for(K in O){if(P.call(O[K],K,O[K])===false){break}}}else{for(;M<N;){if(P.call(O[M],M,O[M++])===false){break}}}}return O},log:function(J,K){try{if(c.getCookie("tCdebugLib")&&console){console[K?K:"log"](J)}}catch(L){}}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(K,J){f["[object "+J+"]"]=J.toLowerCase()});j=c(y);var h={};function C(K){var J=h[K]={};c.each(K.split(t),function(M,L){J[L]=true});return J}c.buildFragment=function(M,N,K){var L,J,O,P=M[0];N=N||y;N=!N.nodeType&&N[0]||N;N=N.ownerDocument||N;if(M.length===1&&typeof P==="string"&&P.length<512&&N===y&&P.charAt(0)==="<"&&!c.rnocache.test(P)&&(c.support.checkClone||!c.rchecked.test(P))&&(c.support.html5Clone||!c.rnoshimcache.test(P))){J=true;L=jQuery.fragments[P];O=L!==k}if(!L){L=N.createDocumentFragment();c.clean(M,N,L,K);if(J){c.fragments[P]=O&&L}}return{fragment:L,cacheable:J}};var s=a.hostname,n=s.split("."),A="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(n.length<2||s.match(A)){c.maindomain=s}else{c.maindomain=n[n.length-2]+"."+n[n.length-1]}m.tC=c})(window)}tC.extend({internalvars:typeof tC.internalvars!="undefined"?tC.internalvars:{},internalFunctions:typeof tC.internalFunctions!="undefined"?tC.internalFunctions:{},privacyVersion:"",containerVersion:"10.40",id_container:"2",id_site:"1010",generatorVersion:"1.0.0",dedup_done:typeof tC.dedup_done!="undefined"?tC.dedup_done:false,internalvars_1010:typeof tC.internalvars_1010!="undefined"?tC.internalvars_1010:{}});tC_1010_2={id_container:"2",id_site:"1010",frequency:"1000",containerVersion:"10.40",generatorVersion:33};tC.extend({launchTag:function(f,d,e,b,c,a){if(typeof a=="undefined"){a=0}tC.array_launched_tags.push(d);tC.array_launched_tags_keys.push(f);tC.containersLaunched[b][c].t.push({id:f,label:d,idTpl:e});window.top.postMessage('TC.EX:{"id":"'+f+'","idc":"'+c+'","idt":"'+e+'","ids":"'+b+'","lb":"'+d.replace(/"/g,'\\"')+'","idtr":"'+a+'"}',"*")}});if(tC.containersLaunched===undefined){tC.containersLaunched={}}if(tC.containersLaunched[1010]===undefined){tC.containersLaunched[1010]={}}tC.containersLaunched[1010][2]={v:"10.40",t:[],g:33};tC.coreReadyStandalone=true;if(tC.isDOMReady){tC.coreReadyStandalone=false}tC.domReady=tC.domReady||false;tC.isDOMReady=tC.isDOMReady||function(){if(document.readyState=="complete"||document.readyState=="loaded"){return true}if(document.readyState!="interactive"){return false}if(!document.documentElement.doScroll){return true}try{document.documentElement.doScroll("left");return true}catch(a){return false}};tC.waitingOnDomReadyCallBacks=tC.waitingOnDomReadyCallBacks||[];tC.excuteOnDomReadyCallBacks=tC.excuteOnDomReadyCallBacks||function(){for(var a=0;a<tC.waitingOnDomReadyCallBacks.length;a++){tC.waitingOnDomReadyCallBacks[a]()}tC.waitingOnDomReadyCallBacks=[]};tC.onDomReady=tC.onDomReady||function(b){if(this.domReady){b();return}tC.waitingOnDomReadyCallBacks.push(b);var a=false;if(document.addEventListener){a=true;document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);tC.excuteOnDomReadyCallBacks()},false)}else{if(document.attachEvent){a=true;document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);tC.excuteOnDomReadyCallBacks()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(tC.domReady){return}try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}tC.excuteOnDomReadyCallBacks()})()}}}if(!a){window.onload=tC.excuteOnDomReadyCallBacks}};if(tC.coreReadyStandalone===true){if(tC.isDOMReady()){tC.domReady=true}else{tC.onDomReady(function(){tC.domReady=true})}}tC.extend({isCurrentVersion:function(){var a=tC.getCookie("tc_mode_test"),b="testModeIncludeReplaceThisByTrue";return a!="1"||(a=="1"&&b=="true")}});tC.pixelTrack=tC.pixelTrack||{add:function(a,b){a=a||0;b=b||"img";tC.onDomReady(function(){if(b=="iframe"){var c=document.createElement(b);c.src=a;c.width=1;c.height=1;c.style.display="none";document.body.appendChild(c)}else{var c=new Image();c.src=a}})}};tC.tc_hdoc=tC.tc_hdoc||false;if(!tC.domain){tC.domain=function(){this.tc_hdoc=document;try{try{this.tc_hdoc=top.document}catch(d){this.tc_hdoc=document}var a=typeof this.tc_hdoc.domain!="undefined"?this.tc_hdoc.domain.toLowerCase().split("."):false,g="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(a.length<2||this.tc_hdoc.domain.match(g)){return""}else{var f=a[a.length-3],c=a[a.length-2],b=a[a.length-1];if(c=="co"||c=="com"){return"."+f+"."+c+"."+b}else{return"."+c+"."+b}}}catch(d){tC.log(["tC.domain error : ",d],"warn")}};tC.domain()}tC.setCookie=tC.setCookie||function(c,e,a,h,d,g){if(!d){d=tC.domain()}var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24}var f=new Date(b.getTime()+(a));document.cookie=c+"="+escape(e)+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:";path=/")+((d)?";domain="+d:"")+((g)?";secure":"")};tC.getCookie=tC.getCookie||function(a){return(result=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?unescape(result[1]):""};tC.isCookieEnabled=function(){if(navigator.cookieEnabled&&window.navigator.userAgent.indexOf("MSIE")==-1){return true}document.cookie="cookietest=1";var a=document.cookie.indexOf("cookietest=")!=-1;document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";return a};tC.extend({removeCookie:function(a){this.setCookie(a,"",-1)}});tC.extend({storage:{has:function(){try{if("localStorage" in window&&window.localStorage!==null){window.localStorage.setItem("TC_CHECK","1");window.localStorage.removeItem("TC_CHECK");return true}return false}catch(a){return false}},get:function(a){return this.has()?window.localStorage.getItem(a):false},set:function(b,a){return this.has()?(window.localStorage.setItem(b,a)||true):false},remove:function(a){return this.has()?(window.localStorage.removeItem(a)||true):false}}});tC.extend({hitCounter_1010_2:function(){if(Math.floor(Math.random()*parseInt(tC_1010_2.frequency))==0){tC.pixelTrack.add("https://manager.tagcommander.com/utils/hit.php?id="+tC_1010_2.id_container+"&site="+tC_1010_2.id_site+"&version="+tC_1010_2.containerVersion+"&frequency="+tC_1010_2.frequency+"&position="+tC.container_position+"&rand="+Math.random())}}});tC.container_position=(typeof tc_container_position!=="undefined")?tc_container_position:(typeof tC.container_position!=="undefined")?tC.container_position:0;tC.container_position++;if(typeof tc_container_position!=="undefined"){tc_container_position++}tC.hitCounter_1010_2();tC.extend({script:{add:function(d,f,c){var a=(document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode),b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=d;b.charset="utf-8";b.id="tc_script_"+Math.random();if(a){if(f){if(b.addEventListener){b.addEventListener("load",function(){f()},false)}else{b.onreadystatechange=function(){if(b.readyState in {loaded:1,complete:1}){b.onreadystatechange=null;f()}}}}if(c&&typeof c=="number"){setTimeout(function(){if(a&&b.parentNode){a.removeChild(b)}},c)}a.insertBefore(b,a.firstChild)}else{tC.log("tC.script error : the element <script> or <body> is not found ! the file "+d+" is not implemented !","warn")}}}});tC.extend({getParamURL:function(p,b){if(typeof p==="undefined"){return""}p=p.toLowerCase();var n=new Array();if(!b){var o="";try{if(typeof top!="undefined"&&typeof top.document!="undefined"){o=top.document}}catch(h){}if(o===""){o=document}b=typeof o.location!="undefined"?o.location.href:""}b=b.replace(/%23/g,"#");var m=0;var d=b.indexOf("?");var c=b.indexOf("#");if(d!=-1){m=d}else{if(c!=-1){m=c}}var a="";if(m!=0){a=b.substring(m+1,b.length).split("#").join("&")}a=a.replace(/%3d/g,"=");var f=a.split("&");for(var g=0;g<f.length;g++){var l=f[g].split("="),j=(l.shift()).toLowerCase(),k=l.join("=");n[j]=k}return((typeof n[p]!="undefined")?n[p]:"")}});tC.extend({_R:{cR:function(a){tC.storage.set("tC_Sync",a);tC.pixelTrack.add("https://engage.commander1.com/reach?tc_s=1010")},rR:function(){if(tC.storage.has()){var a=new Date().getTime();var b=tC.storage.get("tC_Sync")||0;b=parseInt(b);if(b==0||a-b>604800000){this.cR(a)}}}}});tC.onDomReady(function(){tC._R.rR()});tC.extend({});tC.event=tC.event||{};tC.event.pageListFunctions=tC.event.pageListFunctions||[];tC.event.pageListIdTags=tC.event.pageListIdTags||[];if(tC.event.pageListIdTags.indexOf("71")==-1){tC.event.pageListIdTags.push("71");tC.event.pageListFunctions.push(function(a,b){tC.executeTag71_1010_2(a,b);tC.launchTag(71,"UA new implementation",72,1010,2,4)})}tC.event.page=function(c,d){tc_array_events=tC.container_1010_2.init_tc_array_events(d);for(var b=0,a=tC.event.pageListFunctions.length;b<a;b++){tC.event.pageListFunctions[b](c,d)}};tC.extend({container:{reload:function(){var a=arguments[0];tC.reload_events=true;tC.container_position=0;if(tC.containerList){tC.each(tC.containerList,function(b,c){if(typeof tC["container_"+c]=="object"&&typeof tC["container_"+c].reload=="function"){tC["container_"+c].reload(a,true);tC.reload_events=false}})}}}});tC.extend({container_1010_2:{load:function(b,a){tC.container_position++;tC.hitCounter_1010_2();this.datalayer();tC.array_launched_tags=[];tC.array_launched_tags_keys=[];if(typeof b!="object"){b={}}if(typeof a!="boolean"){a=false}if(typeof b.exclusions=="undefined"){b.exclusions=[]}if(b.exclusions.indexOf("datastorage")==-1){this.datastorage()}if(b.exclusions.indexOf("deduplication")==-1){this.deduplication()}if(b.exclusions.indexOf("internalvars")==-1){this.internalvars()}if(b.exclusions.indexOf("privacy")==-1){this.privacy()}if(b.exclusions.indexOf("eventlisteners")==-1){this.eventlisteners()}if(tC.reload_events===false||typeof b.events=="undefined"){b.events={}}tC.each(b.events,function(d,c){if(tC.event&&typeof tC.event[d]=="function"&&c.length>0){if(typeof c[1]=="undefined"){tC.event[d](c[0])}else{tC.event[d](c[0],c[1])}}})},reload:function(b,a){if(typeof a!="boolean"){a=false}if(!a){tC.container_position=0;tC.reload_events=true}this.load(arguments[0],true)},datalayer:function(){if(typeof tc_vars=="undefined"){window.tc_vars=[]}var a="eeAction|products|promotions|transactionAffiliation|checkoutOption|kw55|cat55|checkoutStep|uaTrackingId|appEnvironment|appLanguage|clientId|country|search_results_numbers|bbDescription|bbMediaOrigin|gift_wrap_color|gift_wrap_message|list_name|order_billing_country|order_brands_number|order_coupon|order_delivery_country|order_payment_label|order_products_cop|order_products_cop_number|order_promoted|order_promotion|order_promotion_coupon|order_shipping_provider|order_statuts|order_topcat_number|order_type|order_bb_origin|order_bb_post_origin|page_trademark|product_bbblock|product_cop|product_customizable|product_display_type|product_num_rating|product_rating|product_sku_coverage|product_video|search_category|user_bb_description|user_bb_media_origin|user_card_owner|user_purchase_frequency|user_type|user_visitor_frequency|order_main_product|product_nature|sevice_type|sub_service_type|store_id|store_availability|favorite_store_selected|service_type|product_axis|coupon_codes|payment_label|mainTransactionTopCat|mainTransactionSubCat|mainTransactionCat|mainTransactionBrand|nbBrands|postID|optinType|accountCreationMethod|giftWrapColor|giftWrapType|hasGiftWrap|nbTopCat|couponTotalAmount|productCouponCode|orderCouponCode|appliedFilter|listValue|payment_method|shippingProvider|shipping_method|numRating|skuCoverage|buyerType|videoName|videoLocation|pageBrandEntryPoint|hasVideo|avgRating|engravingFont|engravingNbLines|isCustomizable|productSubCategory|productTopCategory|productDisplayType|socialType|user_identified|isCardOwner|productCategory|productPosition|siteSearchCategory|socialAction|page|promoCreative|promoName|promoPosition|promoId|clickAndCollect|subServiceType|serviceType|env_template|env_work|env_channel|env_language|env_country|env_dnt|env_platform|page_bb_origin|page_bb_post_origin|page_top_cat|page_cat|page_sub_cat|page_name|page_error|user_profile|user_store|user_favorite_store_id|favorite_credit_card_declared|favorite_order_address_declared|beauty_profile_filled|user_id|user_gender|user_newcustomer|user_email|user_email_optin|user_loyalty_card|user_loyalty_category|user_inscription_date|user_last_visit|user_last_purchase|user_frequency|user_amount|user_logged|user_delivery_adress|user_delivery_postalcode|user_delivery_city|user_delivery_country|user_billing_adress|user_billing_postalcode|user_billing_city|user_billing_country|user_shop_id|user_shop_name|user_voucher|user_promo_code|user_profiling_optin|isEngraved|product_range|product_brand|product_subbrand|product_position|product_market|product_section|product_target|product_default_sku|product_qa|product_pid|product_pid_name|product_sku|product_sku_name|product_price_ati|product_old_price_ati|product_discount_ati|product_price_tf|product_old_price_tf|product_discount_tf|product_currency|product_trademark|product_url_page|product_url_picture_pid|product_url_picture_sku|product_breadcrumb_id|product_breadcrumb_label|product_instock|product_gwp_pid|product_gwp_sku|product_gwp_name|product_gwp_trademark|product_quantity|list_products|list_filters|list_sort|search_keywords|search_page_number|search_results_number|search_results_trademark|search_store_locator_keywords|search_store_locator_results_number|order_status|order_payment_method|order_delivery_city|order_address_saved|credit_card_saved|order_NIP|fiscal_ticket_or_bil|order_id|basket_id|order_products|order_amount_ati_without_sf|order_samples|order_amount_ati_with_sf|order_gwps|order_amount_tf_without_sf|order_amount_tf_with_sf|order_old_amount_ati|order_old_amount_tf|order_discount_ati|order_discount_tf|order_ship_ati|order_ship_tf|order_tax|order_payment_methods|order_shipping_method|order_checkout_method|order_promo_code|order_currency|order_voucher_amount|order_products_number|order_samples_number|order_gwps_number".split("|");for(var b in a){if(!tc_vars.hasOwnProperty(a[b])){tc_vars[a[b]]=""}}window.top.postMessage("TC.EX.EXT_VARS.RELOAD","*")},datastorage:function(){window.top.postMessage("TC.EX.DATASTORAGE.RELOAD","*")},deduplication:function(){if(tC.dedup){tC.dedup.LeA=false;tC.dedup.LeAD=false;tC.dedup.LeC=false;tC.dedup.LeCD=false;tC.dedup.LeV=false;tC.dedup.LeVD=false;tC.dedup.FeA=false;tC.dedup.FeAD=false;tC.dedup.FeC=false;tC.dedup.FeCD=false;tC.dedup.FeV=false;tC.dedup.FeVD=false;tC.dedup.AeA=[];tC.dedup.AeC=[];tC.dedup.AeV=[];tC.dedup.setEventList()}},eventlisteners:function(){},internalvars:function(){var a=tC.internalvars_1010.listVar;if(a.length>0){for(var b=0;b<a.length;b++){tC.internalvars_1010.initiators["var"+a[b]]()}}window.top.postMessage("TC.EX.INT_VARS.RELOAD","*")},privacy:function(){if(tC.privacy){tC.privacy.init()}},init_tc_array_events:function(c){if(typeof c=="undefined"){c={}}var a="page_name|user_logged|user_loyalty_category|buyerType|user_identified|pageBrandEntryPoint|page_top_cat|page_sub_cat|page_cat|user_loyalty_card|isCardOwner|country|kw55|cat55|postID|products|promotions|product_pid_name|product_pid|product_currency|listName|appliedFilter|socialAction|socialType|shipping_method|eeAction|payment_method|checkoutStep|search_keywords|eventCategory|eventAction|eventLabel|eventNonInteraction|action|category|label|wishlist_number|reviews_number|blocks_number|event_type|product_bbblock|product_breadcrumb_label|product_customizable|product_display_type|product_line|product_market|product_num_rating|product_price_ati|product_quantity|product_rating|product_section|product_sku|product_sku_coverage|product_sku_name|product_target|product_trademark|product_video|list_products|product_old_price_ati|product_old_price_tf|product_discount_ati|product_discount_tf|product_price_tf|promold|promoCreative|promoPosition|product_coupon_code|product_cop|product_default_sku|event|page|search_results_numbers|env_template|id".split("|");for(var b in a){if(!c.hasOwnProperty(a[b])){c[a[b]]=""}}return c}}});if(typeof tC.containerList=="undefined"){tC.containerList=[]}tC.containerList.push("1010_2");window.tc_array_events=tC.container_1010_2.init_tc_array_events([]);tC1010_2=tC;window.postMessage('TC.EX.CONTAINER:{"id":2,"ids":1010,"v":"10.40","g":33,"p":'+tC.container_position+',"url":"'+(document.currentScript?document.currentScript.src:"")+'"}',"*");/* RETRO COMPATIBILITY FUNCTIONS */
tc_getCookie = tC.getCookie;

tC.container_1010_2.datalayer();tC.array_launched_tags=[];tC.array_launched_tags_keys=[];

/*DYNAMIC JS BLOCK 1*/

/*END DYNAMIC JS BLOCK 1*/

/*CUSTOM_JS_BLOCK1*/
if(!document.URL.match(/tagcommander/)){(function(){'use strict';if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement,fromIndex){if(!this){throw new TypeError('"this" is null or not defined');}
var o=this,k,len=o.length,n=+fromIndex||0;if(len===0){return-1;}
if(Math.abs(n)===Infinity){n=0;}
if(n>=len){return-1;}
k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(o.hasOwnProperty(k)&&o[k]===searchElement){return k;}
k+=1;}
return-1;};}
var C55=function(){this.initDataLayer();this.insensitiveWords=['trackSocial','trackEvent','virtualPageview'];this.socialInteraction=['share','like','tweet','pin it','pin','+1'];this.history={};this.versions={};this.versions.logic='1.2';this.path='/';this.encodeCookie=false;this.expires=new Date(+(new Date())+15552000000).toUTCString();this.loadCookie();this.queryParameters=['kw55','cat55'];this.excludeParams=['email','mail','address','lastName','firstName','username','member[mail]','senderEmail','NOM','PRE_NOM','E_MAIL','j_username','j_password','email_user','login','user_email','email1','confEmail1','email2','confEmail2','nextPage','jsessionid','originalRequestURI','originalRequestURIWithParams','renderer','currencyCode','localeString','_requestid','DPSLogout','_DARGS','_requestid','autorefresh','awc','bvdata','bvstate','category','city','column','country','countryCode','csrSection','csrSub','dcs_action','forceFullSite','gclid','icid2','index','inventoryStatus','jsessionid','listSort','listValue','numberposts','productId','randomJsCount','searchString','sent','skuId','storeId','url_catalog_ref_id','url_product_id','url_quantity','cm_mmc'];this.hash=false;this.membership='';this.membershipHierarchy=['non-member','member','first buyer','returning buyer'];this.engagement='';this.engagementHierarchy=['Default','Weak','Medium','Medium +','Strong'];this.engagementTopStatus='top_';this.omnichannelVisit='';this.omnichannelVisitHierarchy=['Default','Medium','Medium +','Strong'];this.userLoyaltyCard='';this.engagementLevel='';this.engagementLevelHierarchy=['Default','Weak','Medium','Medium +','Strong'];this.sendEventClassic=false;this.sporadicPeriod=30;this.frequentPeriod=7;this.visitorFrequencies=['new','sporadic','occasional','frequent'];this.scrollElementId='';this.scrollLabel='';this.scrollNonInteractive=true;this.scrollEnabled=true;this.scrollStepsHierarchy=[{value:0,name:'fold'},{value:25,name:'25%'},{value:50,name:'50%'},{value:75,name:'75%'},{value:97,name:'100%'}];};window.C55=C55;C55.prototype.initDataLayer=function(){this.dataLayer=[]
this.tagCoId=-1
this._push=this.dataLayer.push;var self=this;this.dataLayer.push=function(a){var idInsW,ev=!!a?a.event:null;if(!!ev){idInsW=self.indexKw(self.insensitiveWords,ev.toLowerCase());if(idInsW!==-1){a.event=self.insensitiveWords[idInsW];}
if(!!a.socialAction&&!self.engagement){self.engagement='ambassador';}
window["tc_events_"+self.tagCoId](this,'click',a);}else{idInsW=-1;}
return self._push.call(self.dataLayer,a);};};(function(){'use strict';var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={},empty=String(),rep,JSON={};meta['\b']='\\b';meta['   ']='\\t';meta['\n']='\\n';meta['\f']='\\f';meta['\r']='\\r';meta['\'']='\\"';meta['\\']='\\\\';function f(t){return 10>t?'0'+t:t;}
function quote(t){escapable.lastIndex=0;if(escapable.test(t)){return'"'+t.replace(escapable,function(t){var e=meta[t];if('string'===typeof e){return e;}
return'\\u'+('0000'+t.charCodeAt(0).toString(16)).slice(-4);})+'"';}
return'"'+t+'"';}
function str(t,e){var r,n,o,z,u,p=gap,i=e[t];if(!!i&&'object'===typeof i&&'function'===typeof i.toJSON){i=i.toJSON(t);}
if('function'===typeof rep){i=rep.call(e,t,i);}
switch(typeof i){case'string':return quote(i);case'number':return isFinite(i)?i+empty:'null';case'boolean':case'null':return i+empty;case'object':if(!i){return'null';}
gap+=indent;u=[];if('[object Array]'===Object.prototype.toString.apply(i)){for(z=i.length,r=0;z>r;r+=1){u[r]=str(r,i)||'null';}
if(0===u.length){o='[]';}else if(gap){o='[\n'+gap+u.join(',\n'+gap)+'\n'+p+']';}else{o='['+u.join(',')+']';}
gap=p;return o;}
if(rep&&'object'===typeof rep){for(z=rep.length,r=0;z>r;r+=1){if('string'===typeof rep[r]){n=rep[r];o=str(n,i);}
if(o){u.push(quote(n)+(gap?': ':':')+o);}}}else{for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){o=str(n,i);if(o){u.push(quote(n)+(gap?': ':':')+o);}}}}
if(0===u.length){o='{}';}else if(gap){o='{\n'+gap+u.join(',\n'+gap)+'\n'+p+'}';}else{o='{'+u.join(',')+'}';}
gap=p;return o;}}
if('function'!==typeof Date.prototype.toJSON){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};}
String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};if('function'!==typeof JSON.stringify){JSON.stringify=function(t,e,r){var n;gap='';indent='';if('number'===typeof r){for(n=0;r>n;n+=1){indent+=' ';}}else{if('string'===typeof r){indent=r;}
rep=e;if(e&&'function'!==typeof e&&('object'!==typeof e||'number'!==typeof e.length)){throw new Error('JSON.stringify');}}
return str('',{'':t});};}
if('function'!==typeof JSON.parse){JSON.parse=function(text,reviver){function walk(t,e){var r,n,o=t[e];if(o&&'object'===typeof o){for(r in o){if(Object.prototype.hasOwnProperty.call(o,r)){n=walk(o,r);if(undefined!==n){o[r]=n;}else{delete o[r];}}}}
return reviver.call(t,e,o);}
function repl(t){return'\\u'+('0000'+t.charCodeAt(0).toString(16)).slice(-4);}
var j,test;text+='';cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,repl);}
test=text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(test)){j=eval('('+text+')');if('function'===typeof reviver){return walk({'':j},'');}
return j;}
throw new SyntaxError('JSON.parse');};}
C55.JSON=JSON;if(!window.JSON){window.JSON=JSON;}}());C55.prototype.domain=function(){var i,h,weird_cookie='stld=cookie',hostname=document.location.hostname.split('.',-1);for(i=hostname.length-1;i>=0;i-=1){h=hostname.slice(i).join('.');document.cookie=weird_cookie+';domain=.'+h+';';if(document.cookie.indexOf(weird_cookie)>-1){document.cookie=weird_cookie.split('=',-1)[0]+'=;domain=.'+h+';expires=Thu, 01 Jan 1970 00:00:01 GMT;';return h;}}};C55.prototype.loadCookie=function(){if(!!document.cookie.match('__55=([^;$]*)')){if(!this.encodeCookie){this.store=JSON.parse(document.cookie.match('__55=([^;$]*)')[1]);}else{this.store=JSON.parse(decodeURIComponent(document.cookie.match('__55=([^;$]*)')[1]));}}else{this.store={};}};C55.prototype.saveCookie=function(){if(!this.encodeCookie){window.document.cookie='__55='+JSON.stringify(this.store)+';expires='+this.expires+';path='+this.path+';domain='+this.domain()+';';}else{window.document.cookie='__55='+
encodeURIComponent(JSON.stringify(this.store))+';expires='+this.expires+';path='+this.path+';domain='+this.domain()+';';}};C55.prototype.addDays=function(days){return new Date(+(new Date())+(days*86400000)).toUTCString();};C55.prototype.indexKw=function(o,s,idx){var i,l;for(i=(idx||0),l=o.length;i<l;i+=1){if(!!s&&o[i].toString().toLowerCase()===s.toLowerCase()){return i;}}
return-1;};(function(){'use strict';C55.utils={_log:[]};C55.utils.log=function(o){o.date=+new Date();o.stack=o.stack.replace(/^[^\(]+?[\n$]/gm,'').replace(/^\s+at\s+/gm,'').replace(/^Object.<anonymous>\s*\(/gm,'{anonymous}()@').split('\n');this._log.push(o);};C55.utils.isNative=function(fn){var risnative=/\s*\[native code\]\s*/i;try{return!!fn.toString().match(risnative);}catch(e){return false;}};C55.utils.enumerate=(function(hasObjectKeys){return function(o){var k,rv;if(hasObjectKeys){try{rv=Object.keys(o);return rv;}catch(ignore){}}
rv=[];o=!!o?(!!o.callee?o.slice(o):o):{};for(k in o){if(o.hasOwnProperty(k)){rv.push(k);}}
return rv;};}(C55.utils.isNative(Object.keys)));C55.utils.enumerateIterator=function(obj){var res=[],k;for(k in obj){if(obj.hasOwnProperty(k)){res.push([k,obj[k]]);}}
return res;};C55.utils.serialize=function(obj){var args,keys,l,i,str=[],_separator="&",_delimiter="=";if(arguments.length>1){args=arguments;}
else{if(obj!==undefined){args=obj;}
else{args={};}}
keys=this.enumerate(args);l=keys.length;for(i=0;i<l;i+=1){str.push(encodeURI(keys[i])+_delimiter
+encodeURIComponent(args[keys[i]]));}
return str.join(_separator).replace(/%20/g,"+");};C55.utils.objectify=function(str){var o={},_separator=/&amp;|&/g,_delimiter="=",value,pairs,pair,keys,key,idx,i,l;if(str.search(_separator)!==-1){pairs=str.split(_separator);}
else{if(str.length){pairs=str.length;}
else if(typeof str==="Array"){pairs=[str];}
else{pairs=[];}}
keys=this.enumerate(pairs);l=keys.length;for(i=0;i<l;i+=1){pair=decodeURI(pairs[keys[i]].replace(/\+/g,"%20"));idx=pair.indexOf(_delimiter);key=pair.split(_delimiter,1);value=pair.slice(idx+1);o[key]=value;}
return o;};C55.utils.URLparse=function(url){var a=document.createElement("a"),o={};a.href=url;o.hash=a.hash;o.params=C55.utils.objectify(a.search.slice(1));o.pathname=(a.pathname[0]!=="/"?"/"+a.pathname:a.pathname);return o;};return"55utils";}());C55.prototype.setHierarchy=function(hierarchy,list){this[hierarchy+'Hierarchy']=list;};C55.prototype.updateHierarchy=function(hierarchy,value,retro){var obj={},hObj=this[hierarchy+'Hierarchy'],sObj,cookieName;if(hierarchy==='membership'){cookieName='ms';}else if(hierarchy==='engagement'){cookieName='st';}else{cookieName=hierarchy;}
sObj=this.store[cookieName];retro=!!retro||false;if(!!hObj&&hObj.indexOf(value)>-1){if(retro){this.store[cookieName]=value;}else if(hObj.indexOf(sObj)<hObj.indexOf(value)){this.store[cookieName]=value;}
this.saveCookie();obj[hierarchy+'Hierarchy']=this.store[cookieName];this.dataLayer.push(obj);}};window.config55=new C55();config55.isNative=function(){C55.utils.log({stack:new Error().stack});return C55.utils.isNative.apply(C55.utils,arguments);};config55.enumerate=function(){C55.utils.log({stack:new Error().stack});return C55.utils.enumerate.apply(C55.utils,arguments);};config55.enumerateIterator=function(){C55.utils.log({stack:new Error().stack});return C55.utils.enumerateIterator.apply(C55.utils,arguments);};config55.serialize=function(){C55.utils.log({stack:new Error().stack});return C55.utils.serialize.apply(C55.utils,arguments);};config55.objectify=function(){C55.utils.log({stack:new Error().stack});return C55.utils.objectify.apply(C55.utils,arguments);};config55.URL={parse:function(){C55.utils.log({stack:new Error().stack});return C55.utils.URLparse.apply(C55.utils,arguments);}};return'55logic';}());}
/*END_CUSTOM_JS_BLOCK1*/
if(tC.privacyCookieDisallowed){tC.setCookie('TCPID','',-1,'',tC.domain());}
tC.id_site='1010';if(tC.getCookie('tc_mode_test')==1){(function(){var tc_testmodescriptload=document.createElement('script');tc_testmodescriptload.type='text/javascript';tc_testmodescriptload.src='//manager.tagcommander.com/utils/test_mode_include.php?id=2&site=1010&type=load&rand='+Math.random()+'&version=';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_testmodescriptload);})();}else{
/*VARIABLES_BLOCK*/
tC.internalvars_1010.initiators=tC.internalvars_1010.initiators||{};tC.internalvars_1010.listVar=[];tC.internalvars_1010.initiators.var194=function(){tC.internalvars.AppDynamics_URL="";if(window.location.hostname.indexOf("preprod")!=-1){tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/qa/adrum.js"}
else if(window.location.hostname.indexOf("qa1")!=-1){tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/qa/adrum.js"}
else if(window.location.hostname.indexOf("qa2")!=-1){tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/qa/adrum.js"}
else if(window.location.hostname.indexOf("qa3")!=-1){tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/qa/adrum.js"}
else if(window.location.hostname.indexOf("qa4")!=-1){tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/qa/adrum.js"}
else{tC.internalvars.AppDynamics_URL="//static.sephora.fr/adrum/prod/adrum.js"}}
tC.internalvars_1010.initiators.var194();tC.internalvars_1010.listVar.push(194);tC.internalvars_1010.initiators.var195=function(){tC.internalvars.AppDynamics_AppKey="";if(window.location.hostname.indexOf("preprod")!=-1){tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUA"}
else if(window.location.hostname.indexOf("qa1")!=-1){tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUN"}
else if(window.location.hostname.indexOf("qa2")!=-1){tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUP"}
else if(window.location.hostname.indexOf("qa3")!=-1){tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUR"}
else if(window.location.hostname.indexOf("qa4")!=-1){tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUM"}
else{tC.internalvars.AppDynamics_AppKey="EUM-AAB-AUA"}}
tC.internalvars_1010.initiators.var195();tC.internalvars_1010.listVar.push(195);tC.internalvars_1010.initiators.var288=function(){tC.internalvars.bbOrigin=document.URL.match('(\\?|&)bbOrigin=([^&]+)(&|$)')?document.URL.match('(?:\\?|&)bbOrigin=([^&]+)(?:&|$)')[1]:'';}
tC.internalvars_1010.initiators.var288();tC.internalvars_1010.listVar.push(288);tC.internalvars_1010.initiators.var289=function(){if(tC.internalvars.tc_maindomain!="sephora.fr"){if(tc_vars["env_country"]!="FR"){if(!document.URL.match(/tagcommander/)){tC.internalvars.youtube=function(){if(window.config55===undefined){return;}
config55.ytPlayers={};var domReady=0,head,rembedyoutube=/youtube\.com\/embed\/([^\?|$]*)/,rswfyoutube=/youtube\.com\/v\/([^\?|$]*)/,rplayerid=/youtube\.com\/v\/.*playerapiid=([^&|$]*)/,embeds={},nodes=[],lastState=[],slice=(function(){var sc=Array.prototype.slice;try{sc.call(document.getElementsByTagName('body'));}catch(e){return function(){var i,l=this.length,_arr=[];if(!l){return[];}
for(i=0;i<l;i+=1){_arr.push(this[i]);}
return _arr;};}
return sc;}());C55.youtube={players:{},historyStart:function(){if(config55.history.youtube===undefined){config55.history.youtube={'start0':+(new Date())};config55.history.youtube.counter=1;}else{config55.history.youtube['start'+
config55.history.youtube.counter]=+(new Date());config55.history.youtube.counter+=1;}},historyEnd:function(){config55.history.youtube['lap'+
(config55.history.youtube.counter-1)]=(+(new Date())-config55.history.youtube['start'+
(config55.history.youtube.counter-1)]);},pushGAEvent:function(action,lab){if(!action){return;}
config55.dataLayer.push({event:'trackEvent',eventCategory:'Video',eventAction:action,eventLabel:lab});},trackPercentageView:(function(){var tracked={},interval=1000,percentageTracker=function(id,target){var steps=config55.youtubeStepsHierarchy,duration=0,doCheck=false,check;try{duration=target.getDuration();}catch(e1){try{duration=target.k.duration;}catch(e2){duration=target.F.duration;}}
check=function(){var currTime=0,percentage=0,i,n;try{currTime=target.getCurrentTime();percentage=Math.round(currTime/duration*100);}catch(e1){try{currTime=target.k.currentTime;percentage=Math.round(currTime/duration*100);}catch(e2){currTime=target.F.currentTime;percentage=Math.round(currTime/duration*100);}}
for(i=0,n=steps.length;i<n;i+=1){if(percentage>steps[i].value&&!steps[i].reached){steps[i].reached=true;C55.youtube.pushGAEvent(steps[i].name,id);}}
if(doCheck){setTimeout(check,interval);}};return{start:function(){if(!doCheck){doCheck=true;check();}},stop:function(){doCheck=false;}};};return function(id,target){if(!tracked[id]){tracked[id]=percentageTracker(id,target);}
return tracked[id];};}()),ytOnStateChange:(function(){return function(e){var id=e._videoId;switch(e.data){case YT.PlayerState.ENDED:C55.youtube.pushGAEvent('Watch to End',id);lastState[id]='Ended';break;case YT.PlayerState.PLAYING:C55.youtube.trackPercentageView(id,e.target).start();if(lastState[id]!=='Play'){C55.youtube.pushGAEvent('Play',id);}
lastState[id]='Play';break;case YT.PlayerState.PAUSED:C55.youtube.trackPercentageView(id).stop();break;}};}()),registerPlayer:function(player,vid){var callback,callbackName;callbackName='__ytOnStateChange_'+vid;callback=window[callbackName]=function(state){return C55.youtube.ytOnStateChange({data:state,_videoId:callback._videoid});};callback._videoid=player.data.match(rswfyoutube)[1];player.addEventListener('onStateChange',callbackName);},parseDOMForVideos:function(){var iframes,objects,i,l,match,id;iframes=document.getElementsByTagName('iframe');objects=[].concat(slice.call(document.getElementsByTagName('object')),slice.call(document.getElementsByTagName('embed')));for(i=0,l=iframes.length;i<l;i+=1){match=iframes[i].src.match(rembedyoutube);if(!!match&&nodes.indexOf(iframes[i])===-1){if(!iframes[i].id){iframes[i].id='ytvid_'+(+(new Date()));}
id=iframes[i].id;C55.youtube.players[id]=new YT.Player(id);}}
for(i=0,l=objects.length;i<l;i+=1){match=(objects[i].data||objects[i].src).match(rswfyoutube);if(match&&nodes.indexOf(objects[i])===-1){nodes.push(objects[i]);C55.youtube.registerPlayer(objects[i],match[1]);}}
if(config55.youtubeParse){setTimeout(C55.youtube.parseDOMForVideos,500);}},iframeAPIReady:function(){if(document.location.host==="m.sephora.cz"||document.location.host==="m.sephora.de"||document.location.host==="m.sephora.pl"||document.location.host==="m.sephora.dk"||document.location.host==="m.sephora.es"||document.location.host==="m.sephora.it"||document.location.host==="m.sephora.se"){var YT=window.YT;YT._Player=YT.Player;YT.Player=function(id,params){params=params||{};if(!params.events){params.events={};}
var self=this,events=params.events||{},_onStateChange,node=document.getElementById(id);if(typeof events.onStateChange==='function'){_onStateChange=events.onStateChange;}else{_onStateChange=function(){return;};}
nodes.push(node);events.onStateChange=function(e){e._videoId=params.videoId||node.src.match(rembedyoutube)[1];e.lastState=lastState;C55.youtube.ytOnStateChange.call(self,e);if(_onStateChange){_onStateChange.call(self,e);}};YT._Player.call(this,id,params);};YT.Player.prototype=YT._Player.prototype;if(window._onYouTubeIframeAPIReady){window._onYouTubeIframeAPIReady();}
C55.youtube.parseDOMForVideos();}},PlayerReady:(function(){function getElementByPlayerId(vid){var objects=document.getElementsByTagName('object'),i,l,match;for(i=0,l=objects.length;i<l;i+=1){match=objects[i].data.match(rplayerid);if(!!match&&match[1]===vid){embeds[vid]=objects[i];return embeds[vid];}}
return null;}
return function(vid){var player;if(!vid){return;}
player=embeds[vid]||getElementByPlayerId(vid);if(player){nodes.push(player);C55.youtube.registerPlayer(player,vid);}
if(window._onYouTubePlayerReady){window._onYouTubePlayerReady(vid);}};}()),main:function(){if(domReady||document.readyState!=='complete'){return;}
domReady+=1;head=document.getElementsByTagName('head')[0];window._onYouTubePlayerReady=window.onYouTubePlayerReady;window.onYouTubePlayerReady=C55.youtube.PlayerReady;if(!window.YT){window._onYouTubeIframeAPIReady=window.onYouTubeIframeAPIReady||null;window.onYouTubeIframeAPIReady=C55.youtube.iframeAPIReady;(function(){var s=document.createElement('script'),a=document.createElement('a'),p=head;a.href='dummy.jpg';s.async=true;if(a.protocol==='file:'){s.src='http://youtube.com/iframe_api';}else{s.src='//youtube.com/iframe_api';}
p.appendChild(s);}());}else{(function check(){if(!YT.Player){return setTimeout(check,16);}
C55.youtube.iframeAPIReady();}());}},onreadystatechange:function(){if(document.readyState!=='complete'||domReady){return;}
C55.youtube.main();},init:function(){if(document.readyState){if(document.readyState==='complete'){return C55.youtube.main();}}else{setTimeout(C55.youtube.main,500);}
if(window.addEventListener){window.addEventListener('DOMContentLoaded',C55.youtube.main);window.addEventListener('load',C55.youtube.main);document.addEventListener('readystatechange',C55.youtube.onreadystatechange);}else{window.attachEvent('onload',C55.youtube.main);document.attachEvent('onreadystatechange',C55.youtube.onreadystatechange);}}};C55.youtube.historyStart();C55.youtube.init();C55.youtube.historyEnd();return'55youtube';}}else{tC.internalvars.youtube=function(){};}}}}
tC.internalvars_1010.initiators.var289();tC.internalvars_1010.listVar.push(289);tC.internalvars_1010.initiators.var290=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.scrollTracking=function(){if(typeof config55.history.scroll=="undefined"){config55.history.scroll={"start0":+(new Date)}
config55.history.scroll.counter=1}else{config55.history.scroll["start"+config55.history.scroll.counter]=+(new Date);++config55.history.scroll.counter;}
config55.versions.scroll="1.1"
var DOMUtil={addEventListener:(function(){if(window.addEventListener)
return function(el,ev,fn,c){return el.addEventListener(ev,fn,!!c)}
return function(el,ev,fn){return el.attachEvent("on"+ev,function(e){var e=e||window.event
e.target=e.target||e.srcElement
e.relatedTarget=e.relatedTarget||e.fromElement||e.toElement
e.isImmediatePropagationStopped=e.isImmediatePropagationStopped||false
e.preventDefault=e.preventDefault||function(){e.returnValue=false}
e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=true}
e.stopImmediatePropagation=e.stopImmediatePropagation||function(){e.stopPropagation()
e.isImmediatePropagationStopped=true}
if(!e.isImmediatePropagationStopped)
fn(e)})}}()),removeEventListener:(function(){if(window.removeEventListener)
return function(el,ev,fn,c){return el.removeEventListener(ev,fn,!!c)}
return function(el,ev,fn){el.detachEvent("on"+ev,fn)}}()),windowHeight:function(){if(window.innerHeight)
return window.innerHeight;else if(document.documentElement&&document.documentElement.clientHeight)
return document.documentElement.clientHeight;else if(document.body)
return document.body.clientHeight;return 0}},scrollTrack=(function(){var resizetimer,scrolltimer,scrollHeight=function(){return scrollElt&&scrollElt.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},scrollTop=function(){return(scrollElt&&scrollElt.scrollTop||(document.body.scrollTop||document.documentElement.scrollTop||0))+windowHeight},eventElt=config55.scrollElementId||window,scrollElt=(eventElt!==window)&&eventElt||null,scrollEltHeight=scrollHeight(),windowHeight=DOMUtil.windowHeight(),start=window["performance"]&&window["performance"]["timing"]&&window["performance"]["timing"]["domInteractive"]||(new Date).getTime(),onresizeEL=function(){clearTimeout(resizetimer)
resizetimer=setTimeout(onresize,32)},onresize=function(){scrollEltHeight=scrollHeight()
windowHeight=DOMUtil.windowHeight()},onscrollEL=function(){clearTimeout(scrolltimer)
scrolltimer=setTimeout(onscroll,32)},onscroll=function(){var pos,percent,steps
pos=scrollTop()
percent=Math.floor(pos/((scrollEltHeight))*100)
steps=config55.scrollStepsHierarchy
for(var i=0,l=steps.length;i<l;i++)
if(percent>=steps[i].value&&!steps[i].reached){config55.dataLayer.push({event:"trackEvent",eventCategory:"Scroll",eventAction:steps[i].name,eventLabel:config55.scrollLabel,eventNonInteraction:config55.scrollNonInteractive})
steps[i].reached=true}
if(steps[steps.length-1].reached){DOMUtil.removeEventListener(window,"resize",onresizeEL);DOMUtil.removeEventListener(eventElt,"scroll",onscrollEL);}}
return{start:function(){DOMUtil.addEventListener(window,"resize",onresizeEL);DOMUtil.addEventListener(eventElt,"scroll",onscrollEL);}}}())
scrollTrack.start()
config55.history.scroll["lap"+(config55.history.scroll.counter-1)]=(+(new Date)-config55.history.scroll["start"+(config55.history.scroll.counter-1)])
return"55scroll"}}else{tC.internalvars.scrollTracking=function(){return null;}}}
tC.internalvars_1010.initiators.var290();tC.internalvars_1010.listVar.push(290);tC.internalvars_1010.initiators.var291=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.visitorFrequency=function(){if(window.config55===undefined){return;}
var now=+(new Date()),firstDate=+config55.store.vF0||false,secondDate=+config55.store.vF1||false,thirdDate=+config55.store.vF2||false,isSameDay,daysBetween,setVF;if(config55.history.visitorFrequency===undefined){config55.history.visitorFrequency={'start0':+(new Date())};config55.history.visitorFrequency.counter=1;}else{config55.history.visitorFrequency['start'+
config55.history.visitorFrequency.counter]=+(new Date());config55.history.visitorFrequency.counter+=1;}
config55.versions.visitorFrequency='1.1';isSameDay=function(date1,date2){var Date1=new Date(date1),Date2=new Date(date2);return Date1.toDateString()===Date2.toDateString()?true:false;};daysBetween=function(date1,date2){var msPerDay=86400000;return Math.round(Math.abs(date1-date2)/msPerDay);};setVF=function(id){config55.store.vF=config55.visitorFrequencies[id];config55.saveCookie();config55.history.visitorFrequency['lap'+(config55.history.visitorFrequency.counter-1)]=(+(new Date())-config55.history.visitorFrequency['start'+(config55.history.visitorFrequency.counter-1)]);return config55.store.vF;};if(isSameDay(now,firstDate)||isSameDay(now,secondDate)||isSameDay(now,thirdDate)){config55.history.visitorFrequency['lap'+(config55.history.visitorFrequency.counter-1)]=(+(new Date())-config55.history.visitorFrequency['start'+(config55.history.visitorFrequency.counter-1)]);return config55.store.vF;}
if(!firstDate){config55.store.vF0=now;return setVF(0);}
if(!secondDate){config55.store.vF1=now;if(daysBetween(firstDate,now)<=config55.sporadicPeriod){return setVF(2);}
return setVF(1);}
if(!thirdDate){thirdDate=now;config55.store.vF2=now;}else{config55.store.vF0=firstDate=secondDate;config55.store.vF1=secondDate=thirdDate;config55.store.vF2=thirdDate=now;}
if(daysBetween(firstDate,now)<=config55.frequentPeriod){return setVF(3);}
if(daysBetween(firstDate,now)>config55.sporadicPeriod){if(daysBetween(secondDate,now)>config55.sporadicPeriod){return setVF(1);}
return setVF(2);}
return setVF(2);};}else{tC.internalvars.visitorFrequency=function(){return"";}}}
tC.internalvars_1010.initiators.var291();tC.internalvars_1010.listVar.push(291);tC.internalvars_1010.initiators.var292=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.engagement=function(){if(window.config55===undefined){return;}
if(typeof config55.history.social=="undefined"){config55.history.social={"start0":+(new Date)}
config55.history.social.counter=0}else
++config55.history.social.counter,config55.history.social["start"+config55.history.social.counter]=+(new Date)
var fbSubscribed=false,twSubscribed=false,googleSubscribed=false,lastAction="",googleTracker=function(){var n="Google"
window._track55GoogleSocial=function(obj){var action=obj.state=="on"?"+1":"-1",target=obj.href
if(lastAction==action&&googleSubscribed)return
googleSubscribed=true
interact(n,action,target)}},facebookTracker=function(){var n="facebook",subscribe,k,e,l,action=function(action,target){interact(n,action,target)}
if(window.fbSubscribed)return false
try{subscribe=FB.Event.subscribe}
catch(e){return false}
window.fbSubscribed=true
for(k=0,e=config55.enumerateIterator({"edge.create":"like","edge.remove":"unlike","message.send":"send"}),l=e.length;k<l;k++)
(function(ne,ce){subscribe(ne,function(target){action(ce,target)})}(e[k][0],e[k][1]))
return true},twitterTracker=function(){var n="twitter",action="tweet",bind
function getUri(str){var params
str=str.split('#')[0]
str=str.split("?")[1]||""
params=config55.objectify(str)
if(params["url"])
return unescape(params["url"])}
if(window.twSubscribed)return false
try{twttr.events.bind("tweet",function(event){if(!event)return false
var target=event.target&&event.target.tagName=="IFRAME"?getUri(event.target.src):""
interact(n,action,target)})}
catch(e){return false}
window.twSubscribed=true
return true},interact=function(){var network=typeof arguments[0]=="string"?arguments[0]:null,action=typeof arguments[1]=="string"?arguments[1]:null,target=typeof arguments[2]=="string"?arguments[2]:""
if(network&&action){if(action==window.lastAction)
return false
window.lastAction=action
if(action!=="unlike"&&action!=="-1")
config55.store.st=updateEngagementStatus()
config55.dataLayer.push({event:"trackSocial","socialNetwork":network,"socialAction":action,"socialTarget":target})
if(config55.sendEventClassic)
config55.dataLayer.push({event:"trackEvent","eventCategory":"Social","eventAction":action,"eventLabel":network})}},getEngagementValueRank=function(val){var match=val.match(new RegExp(config55.engagementTopStatus+"(.*)")),engagementValue=match?match[1]:val
return config55.engagementHierarchy.indexOf(engagementValue)},updateEngagementStatus=function(){var sixmonths=15552000000,max=config55.engagementHierarchy.length-1,statusLevel=config55.store.st?getEngagementValueRank(config55.store.st):0,statusLevel=Math.min(Math.max(statusLevel,0),max),engageValue=config55.engagement||"",wasAtTop=config55.store.st?!!+config55.store.st.match(new RegExp(config55.engagementTopStatus+"(.*)")):false,whenAtTop=wasAtTop&&config55.store.stts||NaN,rank=getEngagementValueRank(engageValue)
if(!wasAtTop&&(+statusLevel<+max))
return config55.engagementHierarchy[max]
if(+statusLevel==+max){if(wasAtTop&&+(new Date)-whenAtTop<sixmonths)
return config55.engagementTopStatus+config55.engagementHierarchy[statusLevel]
else{config55.store.stts=+(new Date)
return config55.engagementTopStatus+config55.engagementHierarchy[statusLevel]}}
else
if((+statusLevel>+rank)||!engageValue)
return config55.engagementHierarchy[statusLevel]}
if(!!config55.engagement){if(getEngagementValueRank(config55.store.st||"")<getEngagementValueRank(config55.engagement))
config55.store.st=config55.engagement};(function fb(){if(!facebookTracker())
setTimeout(function(){fb()},500)}());(function tw(){if(!twitterTracker())
setTimeout(function(){tw()},500)}());(function g(){googleTracker()}())
if(!config55.store.st){config55.store.st=config55.engagementHierarchy[0]}
config55.saveCookie()
config55.history.social["lap"+config55.history.social.counter]=(+(new Date)-config55.history.social["start"+config55.history.social.counter])
return config55.store.st}}else{tC.internalvars.engagement=function(){return""};}}
tC.internalvars_1010.initiators.var292();tC.internalvars_1010.listVar.push(292);tC.internalvars_1010.initiators.var293=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.membership=function(){if(window.config55===undefined){return;}
if(config55.history.membership===undefined){config55.history.membership={"start0":+(new Date())};config55.history.membership.counter=1;}else{config55.history.membership["start"+config55.history.membership.counter]=+(new Date());config55.history.membership.counter+=1;}
config55.versions.membership="2.0";C55.membershipInit=function(){var ltId=config55.store.ltId||"",transId=tc_vars["order_id"]||"";if(!!config55.membership){if(config55.membershipHierarchy.indexOf(config55.store.ms)<config55.membershipHierarchy.indexOf(config55.membership)){config55.store.ms=config55.membership;}}else{if(!!transId&&!!+tc_vars['order_amount_ati_with_sf']){if(ltId===transId){return config55.store.ms;}
if(config55.membershipHierarchy.indexOf(config55.store.ms)<config55.membershipHierarchy.indexOf("first buyer")){config55.store.ms="first buyer";}else if(config55.membershipHierarchy.indexOf(config55.store.ms)<config55.membershipHierarchy.indexOf("returning buyer")){config55.store.ms="returning buyer";}
config55.store.ltId=transId;}
if(!config55.store.ms){config55.store.ms=config55.membershipHierarchy[0];}}
config55.saveCookie();return config55.store.ms;}
config55.history.membership["lap"+(config55.history.membership.counter-1)]=(+(new Date())-config55.history.membership["start"+
(config55.history.membership.counter-1)]);return C55.membershipInit();};}else{tC.internalvars.membership=function(){return""}}}
tC.internalvars_1010.initiators.var293();tC.internalvars_1010.listVar.push(293);tC.internalvars_1010.initiators.var299=function(){tC.internalvars.gaAccount="";if(typeof tc_vars["uaTrackingId"]!=="undefined"&&tc_vars["uaTrackingId"]!==""){tC.internalvars.gaAccount=tc_vars["uaTrackingId"];}
else if(document.URL.match('(\\?|&)uaTrackingId=([^&]+)(&|$)')){tC.internalvars.gaAccount=document.URL.match('(?:\\?|&)uaTrackingId=([^&]+)(?:&|$)')[1];}
else if(tc_vars["env_country"]=="FR"||tc_vars["country"]=="FR"){if(document.location.hostname=="www.sephora.fr"||document.location.hostname=="m.sephora.fr"){tC.internalvars.gaAccount="UA-87625978-2";}
else{tC.internalvars.gaAccount="UA-87625978-7";}}
else if(tc_vars["env_country"]=="ES"||tc_vars["country"]=="ES"){if(document.location.hostname=="www.sephora.es"||document.location.hostname=="m.sephora.es"){tC.internalvars.gaAccount="UA-87625978-10";}
else{tC.internalvars.gaAccount="UA-87625978-11";}}
else if(tc_vars["env_country"]=="CZ"||tc_vars["country"]=="CZ"){if(document.location.hostname=="www.sephora.cz"||document.location.hostname=="m.sephora.cz"){tC.internalvars.gaAccount="UA-87625978-14";}
else{tC.internalvars.gaAccount="UA-87625978-15";}}
else if(tc_vars["env_country"]=="IT"||tc_vars["country"]=="IT"){if(document.location.hostname=="www.sephora.it"||document.location.hostname=="m.sephora.it"){tC.internalvars.gaAccount="UA-87625978-8";}
else{tC.internalvars.gaAccount="UA-87625978-9";}}
else if(tc_vars["env_country"]=="PL"||tc_vars["country"]=="PL"){if(document.location.hostname=="www.sephora.pl"||document.location.hostname=="m.sephora.pl"){tC.internalvars.gaAccount="UA-87625978-16";}
else{tC.internalvars.gaAccount="UA-87625978-17";}}
else if(tc_vars["env_country"]=="SE"||tc_vars["country"]=="SE"){if(document.location.hostname=="www.sephora.se"||document.location.hostname=="m.sephora.se"){tC.internalvars.gaAccount="UA-87625978-24";}
else{tC.internalvars.gaAccount="UA-87625978-23";}}
else if(tc_vars["env_country"]=="DK"||tc_vars["country"]=="DK"){if(document.location.hostname=="www.sephora.dk"||document.location.hostname=="m.sephora.dk"){tC.internalvars.gaAccount="UA-87625978-26";}
else{tC.internalvars.gaAccount="UA-87625978-25";}}
else if(tc_vars["env_country"]=="PT"||tc_vars["country"]=="PT"){if(document.location.hostname=="www.sephora.pt"||document.location.hostname=="m.sephora.pt"){tC.internalvars.gaAccount="UA-87625978-33";}
else{tC.internalvars.gaAccount="UA-87625978-34";}}}
tC.internalvars_1010.initiators.var299();tC.internalvars_1010.listVar.push(299);tC.internalvars_1010.initiators.var310=function(){tC.internalvars.appName="";if(typeof tc_vars["appEnvironment"]!=="undefined"&&tc_vars["appEnvironment"]!==""){var country=tc_vars["appEnvironment"].split("-")[tc_vars["appEnvironment"].split("-").length-1]
tC.internalvars.appName="Sephora "+country.toUpperCase();}}
tC.internalvars_1010.initiators.var310();tC.internalvars_1010.listVar.push(310);tC.internalvars_1010.initiators.var311=function(){tC.internalvars.splio='';if(tC.getCookie("tc_splio")!=='')
tC.internalvars.splio=tC.getCookie("tc_splio");else if(tC.getParamURL("cc")!=='')
{tC.internalvars.tempsplio=tC.getParamURL("cc").split(":")[1];switch(tC.internalvars.splio){case'W':tC.internalvars.splio="White"
break;case"G":tC.internalvars.splio="Gold"
break;case"B":tC.internalvars.splio="Black"
break;case"I":tC.internalvars.splio="Inactif"
break;}
tC.setCookie('tc_splio',tC.internalvars.splio,'30')}}
tC.internalvars_1010.initiators.var311();tC.internalvars_1010.listVar.push(311);tC.internalvars_1010.initiators.var312=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.engagementLevel=function(){if(window.config55===undefined){return;}
if(config55.history.engagementLevel===undefined){config55.history.engagementLevel={"start0":+(new Date())};config55.history.engagementLevel.counter=1;}
else{config55.history.engagementLevel["start"+config55.history.engagementLevel.counter]=+(new Date());config55.history.engagementLevel.counter+=1;}
if(!!config55.engagementLevel){if(config55.engagementLevelHierarchy.indexOf(config55.store.el)<config55.engagementLevelHierarchy.indexOf(config55.engagementLevel)){config55.store.el=config55.engagementLevel;}}
else{if(tc_vars["env_template"].match("product_page")||tc_vars["env_template"]=="search_engine"||tc_vars["env_template"]=="beauty_board"){if(config55.engagementLevel.indexOf(config55.store.el)<config55.engagementLevelHierarchy.indexOf(config55.engagementLevelHierarchy[1])){config55.store.el=config55.engagementLevelHierarchy[1];}}
if(tc_vars["env_template"]=="store_locator"||tc_vars["page_name"]=="book_appointment_validation"){if(config55.engagementLevel.indexOf(config55.store.el)<config55.engagementLevelHierarchy.indexOf(config55.engagementLevelHierarchy[2])){config55.store.el=config55.engagementLevelHierarchy[2];}}
if(typeof tc_vars["order_id"]!=="undefined"&&tc_vars["order_id"]!==""){if(config55.engagementLevel.indexOf(config55.store.el)<config55.engagementLevelHierarchy.indexOf(config55.engagementLevelHierarchy[4])){config55.store.el=config55.engagementLevelHierarchy[4];}}
if(!config55.store.el){config55.store.el=config55.engagementLevelHierarchy[0];}}
config55.saveCookie();return config55.store.el;}}
else{tC.internalvars.engagementLevel=function(){return"";};}}
tC.internalvars_1010.initiators.var312();tC.internalvars_1010.listVar.push(312);tC.internalvars_1010.initiators.var313=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.omnichannelVisit=function(){if(window.config55===undefined){return;}
if(config55.history.omnichannelVisit===undefined){config55.history.omnichannelVisit={"start0":+(new Date())};config55.history.omnichannelVisit.counter=1;}
else{config55.history.omnichannelVisit["start"+config55.history.omnichannelVisit.counter]=+(new Date());config55.history.omnichannelVisit.counter+=1;}
if(!!config55.omnichannelVisit){if(config55.omnichannelVisitHierarchy.indexOf(config55.store.ov)<config55.omnichannelVisitHierarchy.indexOf(config55.omnichannelVisit)){config55.store.ov=config55.omnichannelVisit;}}
else{if(tc_vars["env_template"]==="store_locator"||tc_vars["page_name"]==="book_appointment_validation"){if(config55.omnichannelVisit.indexOf(config55.store.ov)<config55.omnichannelVisitHierarchy.indexOf(config55.omnichannelVisitHierarchy[1])){config55.store.ov=config55.omnichannelVisitHierarchy[1];}}
if(typeof tc_vars["order_id"]!=="undefined"&&tc_vars["order_id"]!==""&&/click/ig.test(tc_vars["shipping_method"])&&/collect/ig.test(tc_vars["shipping_method"])){if(config55.omnichannelVisit.indexOf(config55.store.ov)<config55.omnichannelVisitHierarchy.indexOf(config55.omnichannelVisitHierarchy[3])){config55.store.ov=config55.omnichannelVisitHierarchy[3];}}
if(!config55.store.ov){config55.store.ov=config55.omnichannelVisitHierarchy[0];}}
config55.saveCookie();return config55.store.ov;}}
else{tC.internalvars.omnichannelVisit=function(){return"";};}}
tC.internalvars_1010.initiators.var313();tC.internalvars_1010.listVar.push(313);tC.internalvars_1010.initiators.var316=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.pagePath=function(){if(window.config55===undefined){return;}
if(typeof tc_vars["page"]!=="undefined"&&tc_vars["page"]!==""){var location=tc_vars["page"];}
else{var location=window.location;}
var parsedUrl=C55.utils.URLparse(location),pathnameEnter=parsedUrl.pathname,hash=parsedUrl.hash.slice(1),urlParams=parsedUrl.params,uri='';C55.page={queryParams:function(){var params={},i;for(i=0;i<config55.queryParameters.length;i+=1){if(typeof tc_vars[config55.queryParameters[i]]!=="undefined"&&tc_vars[config55.queryParameters[i]]!==""){params[config55.queryParameters[i]]=tc_vars[config55.queryParameters[i]];}}
return params;},pathname:function(){return pathnameEnter;},removeQueryParams:function(params){var i,l=config55.excludeParams.length,k,tmp;for(i=0;i<l;i++){if(params.hasOwnProperty(config55.excludeParams[i])){delete params[config55.excludeParams[i]];}}
for(k in params){if(typeof params[k]==="string"){tmp=params[k].match(/@[a-zA-Z_]+?\./);if(!!tmp&&tmp.length){delete params[k];}}}
return params;},getSearch:function(){var res=C55.page.pathname(),_urlParams=C55.utils.serialize(C55.page.removeQueryParams(urlParams)),_query=C55.utils.serialize(C55.page.removeQueryParams(C55.page.queryParams()));if(!!_urlParams){res+='?'+_urlParams;if(!!_query){res+='&'+_query;}}else if(!!_query){res+='?'+_query;}
return res;},init:function(){uri=C55.page.getSearch();if(!!config55.hash&&!!hash){if(uri!==page.pathname()){uri+='&'+hash;}else{uri+='?'+hash;}}
if(C55.page.pathname()==='404'){uri='/404.html?page='+pathnameEnter+'&ref='+window.document.referrer;}
return uri;}};return C55.page.init();};}else{tC.internalvars.pagePath=function(){return"";}}}
tC.internalvars_1010.initiators.var316();tC.internalvars_1010.listVar.push(316);tC.internalvars_1010.initiators.var317=function(){tC.internalvars.appVersion="";if(typeof tc_vars["appEnvironment"]!=="undefined"&&tc_vars["appEnvironment"]!==""){var version=tc_vars["appEnvironment"].split("-")[tc_vars["appEnvironment"].split("-").length-2]
tC.internalvars.appVersion=version;}}
tC.internalvars_1010.initiators.var317();tC.internalvars_1010.listVar.push(317);tC.internalvars_1010.initiators.var318=function(){tC.internalvars.appID="";if(typeof tc_vars["appEnvironment"]!=="undefined"&&tc_vars["appEnvironment"]!==""){var id=tc_vars["appEnvironment"].split("-")[tc_vars["appEnvironment"].split("-").length-1]
if(id==="fr"){tC.internalvars.appID="fr.sephora.sephorafrance";}
else if(id==="it"){tC.internalvars.appID="it.sephora.sephoraitalia";}}}
tC.internalvars_1010.initiators.var318();tC.internalvars_1010.listVar.push(318);tC.internalvars_1010.initiators.var319=function(){tC.internalvars.currency="EUR";if(typeof tc_vars["product_currency"]!=="undefined"&&tc_vars["product_currency"]!==""){tC.internalvars.currency=tc_vars["product_currency"];}
else if(typeof tc_vars["order_currency"]!=="undefined"&&tc_vars["order_currency"]!==""){tC.internalvars.currency=tc_vars["order_currency"];}
else if(typeof tc_vars["list_product_currency"]!=="undefined"&&tc_vars["list_product_currency"]!==""){tC.internalvars.currency=tc_vars["list_product_currency"];}
else if(typeof tc_vars["env_country"]!=="undefined"&&tc_vars["env_country"]!==""){if(tc_vars["env_country"]==="SE"){tC.internalvars.currency="SEK";}
else if(tc_vars["env_country"]==="DK"){tC.internalvars.currency="DKK";}
else if(tc_vars["env_country"]==="PL"){tC.internalvars.currency="PLN";}
else if(tc_vars["env_country"]==="CZ"){tC.internalvars.currency="CZK";}}
else if(typeof tc_vars["country"]!=="undefined"&&tc_vars["country"]!==""){if(tc_vars["country"]==="PL"){tC.internalvars.currency="PLN";}
else if(tc_vars["country"]==="CZ"){tC.internalvars.currency="CZK";}
else if(tc_vars["country"]==="SE"){tC.internalvars.currency="SEK";}
else if(tc_vars["country"]==="DK"){tC.internalvars.currency="DKK";}}}
tC.internalvars_1010.initiators.var319();tC.internalvars_1010.listVar.push(319);tC.internalvars_1010.initiators.var320=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.userLoyaltyCard=function(){if(window.config55===undefined){return;}
if(config55.history.userLoyaltyCard===undefined){config55.history.userLoyaltyCard={"start0":+(new Date())};config55.history.userLoyaltyCard.counter=1;}
else{config55.history.userLoyaltyCard["start"+config55.history.userLoyaltyCard.counter]=+(new Date());config55.history.userLoyaltyCard.counter+=1;}
if(!!config55.userLoyaltyCard){config55.store.ulc=config55.userLoyaltyCard;}
else{if(typeof tc_vars["user_loyalty_card"]!=="undefined"&&tc_vars["user_loyalty_card"]!==""){config55.store.ulc=tc_vars["user_loyalty_card"];}
else if(document.location.search.match('(\\?|&)cc=([^&]+)(&|$)')){config55.store.ulc=document.location.search.match('(?:\\?|&)cc=([^&]+)(?:&|$)')[1];}
else if(document.location.hash.match('(\\?|&)cc=([^&]+)(&|$)')){config55.store.ulc=document.location.hash.match('(?:\\?|&)cc=([^&]+)(?:&|$)')[1];}}
config55.saveCookie();return config55.store.ulc;}}
else{tC.internalvars.userLoyaltyCard=function(){return"";};}}
tC.internalvars_1010.initiators.var320();tC.internalvars_1010.listVar.push(320);tC.internalvars_1010.initiators.var321=function(){if(!document.URL.match(/tagcommander/)){tC.internalvars.uaClientID=function(){if(window.config55===undefined){return;}
C55.uaClientID={init:function(){if(!config55.clientId){var La=function(a){var b=1,c=0,d,clientId;window.config55.clientName=tC.internalvars.clientName||"";if(a){for(b=0,d=a["length"]-1;0<=d;d--){c=a.charCodeAt(d);b=(b<<6&268435455)+c+(c<<14);c=b&266338304,b=0!=c?b^c>>21:b;}}
return b;};c=window["navigator"];c=c.appName+c.version+c.platform+c.userAgent+(document["cookie"]?document["cookie"]:"")+(document.referrer?document.referrer:"");d=c["length"];for(e=window.history["length"];0<e;){c+=e--^d++;}
clientId=[Math.round(2147483647*Math.random())^La(c)&2147483647,Math.round((new Date)["getTime"]()/1E3)]["join"](".");if(!tc_getCookie('_ga'+window.config55.clientName)){tC.setCookie('_ga'+window.config55.clientName,'GA1.2.'+clientId,30);}
else{clientId=tC.getCookie("_ga"+window.config55.clientName).split(".")[tC.getCookie("_ga"+window.config55.clientName).split(".").length-2]+"."+tC.getCookie("_ga"+window.config55.clientName).split(".")[tC.getCookie("_ga"+window.config55.clientName).split(".").length-1];}
window.config55.clientId=clientId;}}};C55.uaClientID.init();return config55.clientId;};}else{tC.internalvars.uaClientID=function(){return"";}}}
tC.internalvars_1010.initiators.var321();tC.internalvars_1010.listVar.push(321);tC.internalvars_1010.initiators.var391=function(){if(typeof tc_vars.order_main_product[0]!="undefined"){tC.internalvars.main_product_brand=tc_vars.order_main_product[0].main_product_brand;}}
tC.internalvars_1010.initiators.var391();tC.internalvars_1010.listVar.push(391);tC.internalvars_1010.initiators.var392=function(){if(typeof tc_vars.order_main_product[0]!="undefined"){tC.internalvars.main_product_cat=tc_vars.order_main_product[0].main_product_category;}}
tC.internalvars_1010.initiators.var392();tC.internalvars_1010.listVar.push(392);tC.internalvars_1010.initiators.var393=function(){if(typeof tc_vars.order_main_product[0]!="undefined"){tC.internalvars.main_product_subcat=tc_vars.order_main_product[0].main_product_subcategory;}}
tC.internalvars_1010.initiators.var393();tC.internalvars_1010.listVar.push(393);tC.internalvars_1010.initiators.var394=function(){if(typeof tc_vars.order_main_product[0]!="undefined"){tC.internalvars.main_product_topcat=tc_vars.order_main_product[0].main_product_topcategory;}}
tC.internalvars_1010.initiators.var394();tC.internalvars_1010.listVar.push(394);tC.internalvars_1010.initiators.var395=function(){if(tc_vars.gift_wrap_color!==""||tc_vars.gift_wrap_message=="Y"){tC.internalvars.hasGiftWrap="Y";}else{tC.internalvars.hasGiftWrap="N";}}
tC.internalvars_1010.initiators.var395();tC.internalvars_1010.listVar.push(395);tC.internalvars_1010.initiators.var396=typeof tC.internalvars_1010.initiators.var396=="function"?tC.internalvars_1010.initiators.var396:function(){tC.internalvars.checkout_step=tC.internalvars.checkout_step?tC.internalvars.checkout_step:"";}
tC.internalvars_1010.initiators.var396();tC.internalvars_1010.listVar.push(396);tC.internalvars_1010.initiators.var397=function(){tC.internalvars.page_name="";if(tc_vars["page_name"]=="order_confirmation"){tC.internalvars.page_name="order confirmation";}
else{tC.internalvars.page_name=tc_vars["page_name"];}}
tC.internalvars_1010.initiators.var397();tC.internalvars_1010.listVar.push(397);tC.internalvars_1010.initiators.var417=function(){tC.internalvars.mc="";(function(){var my_doc=document;try{if(typeof top!='undefined'&&typeof top.document!=='undefined'){my_doc=top.document;}}catch(e){}
var temp_tc_ce_qs=my_doc.location.href.split('?');temp_tc_ce_qs.shift();tc_ce_qs=temp_tc_ce_qs.join('?');var tc_ce_params=tc_ce_qs.split('&');for(var i=0;i<tc_ce_params.length;i++){var a=tc_ce_params[i].split('=');var param=a.shift();var value=a.join('=');if(param=='mc'){tC.setCookie('TC_MC',value,365,'/');}}})();if(tC.getCookie('TC_MC')!==undefined&&tC.getCookie('TC_MC')!==""){tC.internalvars.mc=tC.getCookie('TC_MC');}}
tC.internalvars_1010.initiators.var417();tC.internalvars_1010.listVar.push(417);tC.internalvars_1010.initiators.var419=function(){tC.internalvars.tc_maindomain=(function(){tC.internalvars.tc_maindomain='';var tmp1=window.location.hostname.split('.');if(tmp1.length===1){return tmp1[0];}
if(tmp1[tmp1.length-2].length<=3){tC.internalvars.tc_maindomain=tmp1[tmp1.length-3]+'.'+tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}else{tC.internalvars.tc_maindomain=tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}
return tC.internalvars.tc_maindomain;})();}
tC.internalvars_1010.initiators.var419();tC.internalvars_1010.listVar.push(419);tC.internalvars_1010.initiators.var420=function(){tC.internalvars.UA_ID_cb="";if(tc_vars["env_country"]=="PT"||tc_vars["env_country"]=="DE"||tc_vars["env_country"]=="PL"&&tc_vars["env_work"]=="prod"){tC.internalvars.UA_ID_cb=tC.internalvars.UA_ID;}
else{if((tc_vars["env_work"]=="prod"&&tC.internalvars.tc_fulldomain!="darklaunch.sephora.fr")||(tc_vars["env_work"]=="prod"&&tc_vars["env_country"]=="FR")){tC.internalvars.UA_ID_cb="UA-87625978-2";}
else{tC.internalvars.UA_ID_cb="UA-87625978-7";}}}
tC.internalvars_1010.initiators.var420();tC.internalvars_1010.listVar.push(420);tC.internalvars_1010.initiators.var421=function(){tC.internalvars.container_url="";if(tc_vars["env_work"]=="prod"){tC.internalvars.container_url="//cdn.tagcommander.com/1010/tc_SephoraGlobal_4.js";}
else{tC.internalvars.container_url="//cdn.tagcommander.com/1010/uat/tc_SephoraGlobal_4.js";}}
tC.internalvars_1010.initiators.var421();tC.internalvars_1010.listVar.push(421);tC.internalvars_1010.initiators.var422=function(){tC.internalvars.tc_fulldomain=window.location.hostname;}
tC.internalvars_1010.initiators.var422();tC.internalvars_1010.listVar.push(422);tC.internalvars_1010.initiators.var446=function(){tC.internalvars.exclusion_appdynamic="1";if(((document.location).toString().toLowerCase().indexOf(('m.sephora.fr').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m.sephora.pl').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m.sephora.it').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m.sephora.es').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m.sephora.cz').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('api.sephora.fr').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('api.sephora.pl').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('api.sephora.it').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('api.sephora.es').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m-prod.sephora.it').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m-prod.sephora.fr').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m-prod.sephora.pl').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('m-prod.sephora.it').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('api-prod.sephora.it').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.it/secure/user/login.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.it/auth_secure/user/my_account/account_home.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.fr/secure/user/login.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.fr/auth_secure/user/my_account/account_home.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.es/secure/user/login.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.es/auth_secure/user/my_account/account_home.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.cz/secure/user/login.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}
if(((document.location).toString().toLowerCase().indexOf(('www.sephora.cz/auth_secure/user/my_account/account_home.jsp').toLowerCase())!=-1)){tC.internalvars.exclusion_appdynamic='0';}}
tC.internalvars_1010.initiators.var446();tC.internalvars_1010.listVar.push(446);tC.internalvars_1010.initiators.var455=function(){tC.internalvars.privacy_consent="1";}
tC.internalvars_1010.initiators.var455();tC.internalvars_1010.listVar.push(455);tC.internalvars_1010.initiators.var456=typeof tC.internalvars_1010.initiators.var456=="function"?tC.internalvars_1010.initiators.var456:function(){tC.internalvars.container_id=tC.internalvars.container_id?tC.internalvars.container_id:"";}
tC.internalvars_1010.initiators.var456();tC.internalvars_1010.listVar.push(456);tC.internalvars_1010.initiators.var457=typeof tC.internalvars_1010.initiators.var457=="function"?tC.internalvars_1010.initiators.var457:function(){tC.internalvars.device=tC.internalvars.device?tC.internalvars.device:"";}
tC.internalvars_1010.initiators.var457();tC.internalvars_1010.listVar.push(457);tC.internalvars_1010.initiators.var458=function(){tC.internalvars.tc_url=document.location.href;}
tC.internalvars_1010.initiators.var458();tC.internalvars_1010.listVar.push(458);tC.internalvars_1010.initiators.var459=function(){tC.internalvars.ga_cookies=tC.getCookie("_ga").replace(/GA1.2./g,'');if(tC.internalvars.ga_cookies!==""){tC.internalvars.ga_cookies=tC.getCookie("_ga").replace(/GA1.2./g,'');}
else{tC.internalvars.ga_cookies="empty";}}
tC.internalvars_1010.initiators.var459();tC.internalvars_1010.listVar.push(459);tC.internalvars_1010.initiators.var464=function(){tC.internalvars.privacy_management="";window.tc_privacy_consent_personalization="yes";if(tc_vars.env_country=="FR"||tc_vars.env_country=="DE"||tc_vars.env_country=="PT"||tc_vars.env_country=="DK"||tc_vars.env_country=="SE"||tc_vars.env_country=="ES"||tc_vars.env_country=="IT"||tc_vars.env_country=="CZ"||tc_vars.env_country=="PL"){tc_privacy_consent_personalization="no";if((tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('2').toLowerCase())!=-1))||(tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('ALL').toLowerCase())!=-1))){tc_privacy_consent_personalization="yes";tC.log('TrustCommander : Personalization tags triggered on Global container');}}
window.tc_privacy_consent_advertising="yes";if(tc_vars.env_country=="FR"||tc_vars.env_country=="DE"||tc_vars.env_country=="PT"||tc_vars.env_country=="DK"||tc_vars.env_country=="SE"||tc_vars.env_country=="ES"||tc_vars.env_country=="IT"||tc_vars.env_country=="CZ"||tc_vars.env_country=="PL"){tc_privacy_consent_advertising="no";if((tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('3').toLowerCase())!=-1))||(tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('ALL').toLowerCase())!=-1))){tc_privacy_consent_advertising="yes";tC.log('TrustCommander : Social Media and advertisings tags triggered on Global container');}}
window.tc_privacy_consent_analytics="yes";if(tc_vars.env_country=="FR"||tc_vars.env_country=="DE"||tc_vars.env_country=="PT"||tc_vars.env_country=="DK"||tc_vars.env_country=="SE"||tc_vars.env_country=="ES"||tc_vars.env_country=="IT"||tc_vars.env_country=="CZ"||tc_vars.env_country=="PL"){if(tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('4').toLowerCase())==-1)&&tC.getCookie('TC_PRIVACY')!=""&&((tC.getCookie('TC_PRIVACY_CENTER')).toString().toLowerCase().indexOf(('ALL').toLowerCase())==-1)){tc_privacy_consent_analytics="no"}}
tC.log('TrustCommander : Analytics tags triggered on Global container');}
tC.internalvars_1010.initiators.var464();tC.internalvars_1010.listVar.push(464);tC.internalvars_1010.initiators.var465=typeof tC.internalvars_1010.initiators.var465=="function"?tC.internalvars_1010.initiators.var465:function(){tC.internalvars.ua_id_me=tC.internalvars.ua_id_me?tC.internalvars.ua_id_me:"";}
tC.internalvars_1010.initiators.var465();tC.internalvars_1010.listVar.push(465);tC.internalvars_1010.initiators.var399=function(){tC.internalvars.UA_ID="";switch(tc_vars["env_country"]){case"DE":tC.internalvars.UA_ID="UA-87625978-28";break;case"PT":tC.internalvars.UA_ID="UA-87625978-33";break;default:tC.internalvars.UA_ID="";break;}}
tC.internalvars_1010.initiators.var399();tC.internalvars_1010.listVar.push(399);tC.internalvars_1010.initiators.var418=function(){tC.internalvars.userloggued="";switch(tc_vars["user_logged"]){case"N":tC.internalvars.userloggued="0";break;case"Y":tC.internalvars.userloggued="1";break;default:tC.internalvars.userloggued="0";break;}}
tC.internalvars_1010.initiators.var418();tC.internalvars_1010.listVar.push(418);tC.internalvars_1010.initiators.var449=function(){tC.internalvars.order_payment_method="";switch(tc_vars["order_payment_label"]){case"mastercard":tC.internalvars.order_payment_method="credit card";break;case"visa":tC.internalvars.order_payment_method="credit card";break;case"cb":tC.internalvars.order_payment_method="credit card";break;case"amex":tC.internalvars.order_payment_method="credit card";break;case"paypal":tC.internalvars.order_payment_method="paypal";break;case"gift card":tC.internalvars.order_payment_method="gift card";break;case"credit note":tC.internalvars.order_payment_method="credit note";break;case"klarna":tC.internalvars.order_payment_method="klarna";break;default:tC.internalvars.order_payment_method="";break;}}
tC.internalvars_1010.initiators.var449();tC.internalvars_1010.listVar.push(449);tC.internalvars_1010.initiators.var454=typeof tC.internalvars_1010.initiators.var454=="function"?tC.internalvars_1010.initiators.var454:function(){tC.internalvars.ua_id_me_preprod=tC.internalvars.ua_id_me_preprod?tC.internalvars.ua_id_me_preprod:"";}
tC.internalvars_1010.initiators.var454();tC.internalvars_1010.listVar.push(454);
/*END_VARIABLES_BLOCK*/


/*DYNAMIC JS BLOCK 2*/

/*END DYNAMIC JS BLOCK 2*/

/*CUSTOM_JS_BLOCK2*/

if(tc_vars["page_name"]==='order confirmation'&&tC.internalvars.tc_fulldomain!="dev15-web1-sephorasa.demandware.net")
{tc_vars["page_name"]='order_confirmation'}
if(document.location.host!=="dev.sephora.se"){if(typeof tc_vars["products"]!=="undefined"&&tc_vars["products"]!=='')
{for(i=0;i<tc_vars["products"].length;i++){if(tc_vars["products"][i].price>10000&&tC.internalvars.currency==="EUR")
{tc_vars["products"][i].price=0;}
if(tc_vars["products"][i].price>95000&&tC.internalvars.currency==="SEK")
{tc_vars["products"][i].price=0;}
if(tc_vars["products"][i].price>74000&&tC.internalvars.currency==="DKK")
{tc_vars["products"][i].price=0;}
if(tc_vars["products"][i].price>250000&&tC.internalvars.currency==="CZK")
{tc_vars["products"][i].price=0;}
if(tc_vars["products"][i].price>43000&&tC.internalvars.currency==="PLN")
{tc_vars["products"][i].price=0;}}}}
if(typeof tc_vars["order_amount_ati_with_sf"]!=="undefined"&&tc_vars["order_amount_ati_with_sf"]!=='')
{if(tc_vars["order_amount_ati_with_sf"]>10000&&tC.internalvars.currency==="EUR")
{tc_vars["order_amount_ati_with_sf"]=0;}
if(tc_vars["order_amount_ati_with_sf"]>43000&&tC.internalvars.currency==="PLN")
{tc_vars["order_amount_ati_with_sf"]=0;}
if(tc_vars["order_amount_ati_with_sf"]>250000&&tC.internalvars.currency==="CZK")
{tc_vars["order_amount_ati_with_sf"]=0;}}
/*END_CUSTOM_JS_BLOCK2*/
tC.container_1010_2.datastorage();}

//----------------------------------------------------




//----

if(tC.getCookie('tc_mode_test')==1){(function(){var tc_testmodescriptexec=document.createElement('script');tc_testmodescriptexec.type='text/javascript';tc_testmodescriptexec.src='//manager.tagcommander.com/utils/test_mode_include.php?id=2&site=1010&type=exec&rand='+Math.random()+'&version=10.40';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_testmodescriptexec);})();(function(){setTimeout(function(){if(typeof top.tc_count!=='undefined'){top.tc_count++;}else{top.tc_count=1;}var tc_newscript=document.createElement('script');tc_newscript.type='text/javascript';tc_newscript.src='//manager.tagcommander.com/utils/livetest/bookmarklet.php?r='+Math.random()+'&nb='+top.tc_count+'&container=1010!2&version=10.40';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_newscript);},1000);})();}else{if(tc_privacy_consent_analytics=="yes"){if(tc_vars["env_country"]!='FR'){if((document.location).toString().toLowerCase().indexOf(('dev15-web1-sephorasa.demandware.net').toLowerCase())==-1&&(document.location).toString().toLowerCase().indexOf(('dev15-web1-sephorasa.demandware.net/s/Sephora_FR').toLowerCase())==-1&&(document.location).toString().toLowerCase().indexOf(('demo-web1-sephorasa.demandware.net/on/demandware.store/Sites-Sephora_FR-Site/fr_FR').toLowerCase())==-1&&(document.location).toString().toLowerCase().indexOf(('demo-web1-sephorasa.demandware.net/s/Sephora_FR').toLowerCase())==-1){tC.launchTag(56,'Configuration',26,1010,2,1);var config55=config55||{};config55.tagCoId=2;config55.youtubeParse=true;config55.youtubeStepsHierarchy=[{name:'25%',value:25},{name:'50%',value:50},{name:'75%',value:75},{name:'100%',value:98}];tC.internalvars.youtube();if(document.location.pathname=="/"||(tc_vars["page_name"]=="/"&&tc_vars["env_template"]=="home page")){tC.internalvars.scrollTracking();config55.scrollNonInteractive=true;}}}}
if(tc_privacy_consent_analytics=="yes"){if(tc_vars["env_country"]!='FR'){if(tC.internalvars.tc_fulldomain!='development-eu02-sephora.demandware.net'){if(tC.internalvars.tc_fulldomain!='dev16-web1-sephorasa.demandware.net'){if(tc_vars["env_country"]!='DE'){if(tC.internalvars.tc_fulldomain!='darklaunch.sephora.fr'){if(tC.internalvars.tc_fulldomain!='dev15-web1-sephorasa.demandware.net'){if(tc_vars["page_cat"]!='beauty tips'){if(tc_vars["env_country"]!='PT'){tC.launchTag(58,'Universal Analytics Standard',1503,1010,2,1);(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");if(typeof tc_vars["clientId"]!=="undefined"&&tc_vars["clientId"]!==""){ga("create",tC.internalvars.gaAccount,"auto","t55",{"clientId":tc_vars["clientId"],'allowAnchor':true});}
else if(typeof tC.internalvars.uaClientID()!=="undefined"&&tC.internalvars.uaClientID()!==""){ga("create",tC.internalvars.gaAccount,"auto","t55",{"clientId":tC.internalvars.uaClientID(),'allowAnchor':true});}
ga("t55.set","checkProtocolTask",null);if(typeof tC.internalvars.userLoyaltyCard()!=="undefined"&&tC.internalvars.userLoyaltyCard()!==""){ga("t55.set","userId",tC.internalvars.userLoyaltyCard());}
ga("t55.require","ec");if(tc_vars["appEnvironment"]===""){ga("t55.set","dimension1",tC.internalvars.membership());ga("t55.set","dimension2",tC.internalvars.engagementLevel());ga("t55.set","dimension3",tC.internalvars.visitorFrequency());}
ga("t55.set","dimension4",tc_vars["user_logged"]);ga("t55.set","dimension8",tc_vars["user_newcustomer"]);ga("t55.set","dimension5",tc_vars["buyerType"]);ga("t55.set","dimension19",tc_vars["user_identified"]);ga("t55.set","dimension20",tc_vars["user_loyalty_category"]);ga("t55.set","dimension22",tc_vars["list_filters"]);ga("t55.set","dimension23",tc_vars["isCardOwner"]);if(typeof tC.internalvars.userLoyaltyCard()!=="undefined"&&tC.internalvars.userLoyaltyCard()!==""){ga("t55.set","dimension24",tC.internalvars.userLoyaltyCard());}
if(typeof tc_vars["search_results_number"]!=="undefined"&&tc_vars["search_results_number"]!==""){ga("t55.set","dimension25",tc_vars["search_results_number"]);}
else if(typeof tc_vars["search_results_numbers"]!=="undefined"&&tc_vars["search_results_numbers"]!==""){ga("t55.set","dimension25",tc_vars["search_results_numbers"]);}
ga("t55.set","dimension26",tc_vars["nbBrands"]);ga("t55.set","dimension27",tc_vars["mainTransactionBrand"]);ga("t55.set","dimension28",tc_vars["mainTransactionCat"]);ga("t55.set","dimension29",tc_vars["mainTransactionSubCat"]);ga("t55.set","dimension30",tc_vars["mainTransactionTopCat"]);ga("t55.set","dimension31",tc_vars["user_billing_country"]);ga("t55.set","dimension32",tc_vars["payment_label"]);ga("t55.set","dimension33",tc_vars["user_delivery_country"]);ga("t55.set","dimension34",tc_vars["giftWrapColor"]);ga("t55.set","dimension35",tc_vars["giftWrapType"]);ga("t55.set","dimension36",tc_vars["hasGiftWrap"]);ga("t55.set","dimension37",tc_vars["user_frequency"]);ga("t55.set","dimension38",tc_vars["order_samples_number"]);ga("t55.set","dimension39",tc_vars["nbTopCat"]);ga("t55.set","dimension40",tc_vars["shippingProvider"]);ga("t55.set","dimension41",tc_vars["payment_method"]);ga("t55.set","dimension42",tc_vars["shipping_method"]);if(typeof tc_vars["appEnvironment"]!=="undefined"&&tc_vars["appEnvironment"]!=="")
{ga("t55.set","dimension43",tc_vars["appEnvironment"]);}
else if(document.URL.match("(\\?|&)appEnvironment=([^&]+)(&|$)")!==null)
{ga("t55.set","dimension43",document.URL.match("(?:\\?|&)appEnvironment=([^&]+)(?:&|$)")[1]);}
if(typeof tc_vars["search_keywords"]!=="undefined"&&tc_vars["search_keywords"]!=="")
{ga("t55.set","dimension44",tc_vars["search_keywords"]);}
else if(document.URL.match("(\\?|&)search_keywords=([^&]+)(&|$)")!==null)
{ga("t55.set","dimension44",document.URL.match("(?:\\?|&)search_keywords=([^&]+)(?:&|$)")[1]);}
if(typeof tc_vars["siteSearchCategory"]!=="undefined"&&tc_vars["siteSearchCategory"]!=="")
{ga("t55.set","dimension45",tc_vars["siteSearchCategory"]);}
else if(document.URL.match("(\\?|&)siteSearchCategory=([^&]+)(&|$)")!==null)
{ga("t55.set","dimension45",document.URL.match("(?:\\?|&)siteSearchCategory=([^&]+)(?:&|$)")[1]);}
if(typeof tc_vars["appLanguage"]!=="undefined"&&tc_vars["appLanguage"]!=="")
{ga("t55.set","dimension46",tc_vars["appLanguage"]);}
else if(document.URL.match("(\\?|&)appLanguage=([^&]+)(&|$)")!==null)
{ga("t55.set","dimension46",document.URL.match("(?:\\?|&)appLanguage=([^&]+)(?:&|$)")[1]);}
if(tc_vars["appEnvironment"]===""){ga("t55.set","dimension47",tC.internalvars.omnichannelVisit());}
ga("t55.set","dimension55",tc_vars["bbDescription"]);ga("t55.set","dimension56",tc_vars["bbMediaOrigin"]);ga("t55.set","dimension58",tc_vars["env_work"]);ga("t55.set","dimension59",tc_vars["env_channel"]);ga("t55.set","dimension60",tc_vars["env_language"]);if(tc_vars["env_channel"]==="mobile")
{ga("t55.set","dimension61",tc_vars["country"]);}
else
{ga("t55.set","dimension61",tc_vars["env_country"]);}
ga("t55.set","dimension62",tc_vars["env_platform"]);if(typeof tc_vars["clientId"]!=="undefined"&&tc_vars["clientId"]!==""){ga("t55.set","dimension67",tc_vars["clientId"]);}
else if(typeof tC.internalvars.uaClientID()!=="undefined"&&tC.internalvars.uaClientID()!==""){ga("t55.set","dimension67",tC.internalvars.uaClientID());}
if(tc_vars["env_country"]==="FR")
{ga('t55.set','metric5',tc_vars["order_amount_ati_with_sf"]);}
ga("t55.set","metric3",tc_vars["couponTotalAmount"]);ga("t55.set","contentGroup1",tc_vars["page_top_cat"]);ga("t55.set","contentGroup2",tc_vars["page_cat"]);ga("t55.set","contentGroup3",tc_vars["page_sub_cat"]);ga("t55.set","contentGroup4",tc_vars["pageBrandEntryPoint"]);ga("t55.set","contentGroup5",tc_vars["env_template"]);if(typeof tc_vars["eeAction"]!=="undefined"&&tc_vars["eeAction"]==="eeProductDetail"){for(i=0;i<tc_vars["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_vars["products"][i].id,"name":tc_vars["products"][i].name,"category":tc_vars["products"][i].category,"brand":tc_vars["products"][i].brand,"price":tc_vars["products"][i].price,"dimension6":tc_vars["products"][i].productDisplayType,"dimension96":tc_vars["product_instock"]});}
ga("t55.ec:setAction","detail");}
if(typeof tc_vars["eeAction"]!=="undefined"&&tc_vars["eeAction"]==="eeListView"){ga("t55.set","currencyCode",tC.internalvars.currency);for(i=0;i<tc_vars["products"].length;i++){ga("t55.ec:addImpression",{"id":tc_vars["products"][i].id,"name":tc_vars["products"][i].name,"category":tc_vars["products"][i].category,"brand":tc_vars["products"][i].brand,"price":tc_vars["products"][i].price,"variant":tc_vars["products"][i].variant,"position":tc_vars["products"][i].position,"list":tc_vars["products"][i].listName});}}
if(typeof tc_vars["eeAction"]!=="undefined"&&tc_vars["eeAction"]==="eeCheckout"){for(i=0;i<tc_vars["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_vars["products"][i].id,"name":tc_vars["products"][i].name,"category":tc_vars["products"][i].category,"brand":tc_vars["products"][i].brand,"price":tc_vars["products"][i].price,"variant":tc_vars["products"][i].variant,"quantity":tc_vars["products"][i].quantity,"dimension6":tc_vars["products"][i].productDisplayType,"dimension10":tc_vars["products"][i].product_sku,"dimension15":tc_vars["products"][i].isCustomizable,"dimension100":tc_vars["products"][i].isEngraved});}
ga("t55.ec:setAction","checkout",{"step":tc_vars["checkoutStep"]});}
if(typeof tc_vars["order_id"]!=="undefined"&&tc_vars["order_id"]!==""){ga('t55.set','currencyCode',tC.internalvars.currency);for(i=0;i<tc_vars["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_vars["products"][i].id,"name":tc_vars["products"][i].name,"category":tc_vars["products"][i].category,"brand":tc_vars["products"][i].brand,"price":tc_vars["products"][i].price,"variant":tc_vars["products"][i].variant,"quantity":tc_vars["products"][i].quantity,"coupon":tc_vars["products"][i].coupon,"dimension6":tc_vars["products"][i].productDisplayType,"dimension10":tc_vars["products"][i].product_sku,"dimension15":tc_vars["products"][i].isCustomizable,"dimension100":tc_vars["products"][i].isEngraved,"dimension95":tc_vars["products"][i].discount_price_ati});}
ga("t55.ec:setAction","purchase",{"id":tc_vars["order_id"],"affiliation":tc_vars["transactionAffiliation"],"revenue":tc_vars["order_amount_ati_with_sf"],"tax":tc_vars["order_tax"],"shipping":tc_vars["order_ship_ati"],"coupon":tc_vars["orderCouponCode"]});}
if(tC.internalvars.appName!==""){if(typeof tc_vars["order_id"]!=="undefined"&&tc_vars["order_id"]!==""){ga("t55.send","screenview",{"appName":tC.internalvars.appName,"appId":tC.internalvars.appID,"appVersion":tC.internalvars.appVersion,"screenName":tC.internalvars.pagePath()});if(typeof tc_vars["checkoutOption"]!=="undefined"&&tc_vars["checkoutOption"]!==""){setTimeout(function(){ga("t55.ec:setAction","checkout_option",{"step":tc_vars["checkoutOption"].step,"option":tc_vars["checkoutOption"].option});ga("t55.send","event","Checkout","Option");},1000);}}
else{ga("t55.send","screenview",{"appName":tC.internalvars.appName,"appId":tC.internalvars.appID,"appVersion":tC.internalvars.appVersion,"screenName":tC.internalvars.pagePath()});if(typeof tc_vars["checkoutOption"]!=="undefined"&&tc_vars["checkoutOption"]!==""){setTimeout(function(){ga("t55.ec:setAction","checkout_option",{"step":tc_vars["checkoutOption"].step,"option":tc_vars["checkoutOption"].option});ga("t55.send","event","Checkout","Option");},1000);}}}
else{ga("t55.set","title",tc_vars["page_name"]);ga("t55.set","hostname",document.location.hostname);ga("t55.set","page",tC.internalvars.pagePath(),{hitCallback:function(){if(typeof tc_vars["checkoutOption"]!=="undefined"&&tc_vars["checkoutOption"]!==""){ga("t55.ec:setAction","checkout_option",{"step":tc_vars["checkoutOption"].step,"option":tc_vars["checkoutOption"].option});ga("t55.send","event","Checkout","Option");}}});ga("t55.send","pageview",tC.internalvars.pagePath(),{hitCallback:function(){if(typeof tc_vars["checkoutOption"]!=="undefined"&&tc_vars["checkoutOption"]!==""){ga("t55.ec:setAction","checkout_option",{"step":tc_vars["checkoutOption"].step,"option":tc_vars["checkoutOption"].option});ga("t55.send","event","Checkout","Option");}}});}
if(typeof tc_vars["serviceType"]!=="undefined"&&tc_vars["serviceType"]!==""){ga("t55.send","event","Book an Appointment",tc_vars["serviceType"],tc_vars["subServiceType"],{nonInteraction:false});}
if(typeof tc_vars["accountCreationMethod"]!=="undefined"&&tc_vars["accountCreationMethod"]!==""){config55.membership="member";ga("t55.send","event","Client Account","Creation",tc_vars["accountCreationMethod"],{"dimension1":tC.internalvars.membership()});}
if(typeof tc_vars["optinType"]!=="undefined"&&tc_vars["optinType"]!==""){config55.membership="member";ga("t55.send","event","Newsletter","Subscription",tc_vars["optinType"],{"dimension1":tC.internalvars.membership()});}}}}}}}}}}
if(tc_privacy_consent_analytics=="yes"){if(tc_vars["env_country"]!='FR'){if(tc_vars["env_country"]=='PT'||tc_vars["env_country"]=='DE'||tC.internalvars.tc_fulldomain=='development-eu02-sephora.demandware.net'||tc_vars["page_cat"]=='beauty tips'||tC.internalvars.tc_fulldomain=='dev15-web1-sephorasa.demandware.net'||tC.internalvars.tc_fulldomain=='dev30-web1-sephorasa.demandware.net'){if(tC.getCookie("test_sephora")===""){tC.launchTag(71,'UA new implementation',72,1010,2,1);(function(){var tc=document.createElement('script');tc.type='text/javascript';tc.async=true;tc.src=tC.internalvars.container_url;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]||document.getElementsByTagName('script')[0].parentNode).insertBefore(tc,null);})();}}}}
tC.extend({executeTag71_1010_2:function(el,p){if(typeof p=="undefined"){p={};}
tc_array_events=tC.container_1010_2.init_tc_array_events(p);(function(){var tc=document.createElement('script');tc.type='text/javascript';tc.async=true;tc.src=tC.internalvars.container_url;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]||document.getElementsByTagName('script')[0].parentNode).insertBefore(tc,null);})();}});}
function tc_events_2(tc_elt,tc_id_event,tc_array_events){tc_array_events["id"]=tc_id_event;(function(){var l='page_name|user_logged|user_loyalty_category|buyerType|user_identified|pageBrandEntryPoint|page_top_cat|page_sub_cat|page_cat|user_loyalty_card|isCardOwner|country|kw55|cat55|postID|products|promotions|product_pid_name|product_pid|product_currency|listName|appliedFilter|socialAction|socialType|shipping_method|eeAction|payment_method|checkoutStep|search_keywords|eventCategory|eventAction|eventLabel|eventNonInteraction|action|category|label|wishlist_number|reviews_number|blocks_number|event_type|product_bbblock|product_breadcrumb_label|product_customizable|product_display_type|product_line|product_market|product_num_rating|product_price_ati|product_quantity|product_rating|product_section|product_sku|product_sku_coverage|product_sku_name|product_target|product_trademark|product_video|list_products|product_old_price_ati|product_old_price_tf|product_discount_ati|product_discount_tf|product_price_tf|promold|promoCreative|promoPosition|product_coupon_code|product_cop|product_default_sku|event|page|search_results_numbers|env_template|id'.split('|');for(var k in l){if(!tc_array_events.hasOwnProperty(l[k])){tc_array_events[l[k]]='';}}})();if(tc_vars["env_country"]!='FR'){tC.launchTag('eclick','GA events router','-1','1010','2');if(tc_vars["page_cat"]!="beauty tips"||tC.internalvars.tc_fulldomain!="dev15-web1-sephorasa.demandware.net"||tc_vars["env_country"]!="FR"){var eventCategory="";var eventAction="";switch(tc_array_events["event"]){case"beautyBoardPageview":case"avaibilityStoreSearch":case"availabilityStoreSearch":if(tc_array_events["event"]=="avaibilityStoreSearch"||tc_array_events["event"]=="availabilityStoreSearch"){config55.engagementLevel=config55.engagementLevelHierarchy[3];ga("t55.set","dimension2",tC.internalvars.engagementLevel());}
ga("t55.set","dimension4",tc_array_events["user_logged"]);ga("t55.set","dimension5",tc_array_events["buyerType"]);ga("t55.set","dimension19",tc_array_events["user_identified"]);ga("t55.set","dimension20",tc_array_events["user_loyalty_category"]);ga("t55.set","dimension23",tc_array_events["isCardOwner"]);ga("t55.set","dimension24",tc_array_events["user_loyalty_card"]);ga("t55.set","dimension25",tc_array_events["search_results_numbers"]);if(tc_array_events["event"]=="avaibilityStoreSearch"||tc_array_events["event"]=="availabilityStoreSearch"){config55.omnichannelVisit=config55.omnichannelVisitHierarchy[2];ga("t55.set","dimension47",tC.internalvars.omnichannelVisit());}
ga("t55.set","contentGroup1",tc_array_events["page_top_cat"]);ga("t55.set","contentGroup2",tc_array_events["page_cat"]);ga("t55.set","contentGroup3",tc_array_events["page_sub_cat"]);ga("t55.set","contentGroup4",tc_array_events["pageBrandEntryPoint"]);ga("t55.set","contentGroup5",tc_array_events["env_template"]);ga("t55.set","title",tc_array_events["page_name"]);ga("t55.set","hostname",document.location.hostname);if(typeof tc_array_events["kw55"]!=="undefined"&&tc_array_events["kw55"]!==""&&typeof tc_array_events["cat55"]!=="undefined"&&tc_array_events["cat55"]!==""){if(tc_array_events["page"].split("?").length>1){ga("t55.set","page",tc_array_events["page"]+"&kw55="+tc_array_events["kw55"]+"&cat55="+tc_array_events["cat55"]);ga("t55.send","pageview",tc_array_events["page"]+"&kw55="+tc_array_events["kw55"]+"&cat55="+tc_array_events["cat55"]);}
else if(tc_array_events["page"].split("?").length==1){ga("t55.set","page",tc_array_events["page"]+"?kw55="+tc_array_events["kw55"]+"&cat55="+tc_array_events["cat55"]);ga("t55.send","pageview",tc_array_events["page"]+"?kw55="+tc_array_events["kw55"]+"&cat55="+tc_array_events["cat55"]);}}
else{ga("t55.set","page",tc_array_events["page"]);ga("t55.send","pageview",tc_array_events["page"]);}
break;case"addToCartFromCartPage":case"addToCartAccount":eventCategory="Product detail";if(tc_array_events["event"]=="addToCartFromCartPage"){eventAction="Add to cart from cart";}
else if(tc_array_events["event"]=="addToCartAccount"){eventAction="Add to cart from account";}
for(i=0;i<tc_array_events["products"].length;i++){if(typeof tc_array_events["products"][i].product_currency!=="undefined"&&tc_array_events["products"][i].product_currency!==""){ga('set','currencyCode',tc_array_events["products"][i].product_currency);}
else{ga('set','currencyCode',tC.internalvars.currency);}
ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"variant":tc_array_events["products"][i]["variant"],"price":tc_array_events["products"][i]["price"],"quantity":tc_array_events["products"][i]["quantity"],"dimension6":tc_array_events["products"][i]["productDisplayType"],"dimension10":tc_array_events["products"][i]["product_sku"],"dimension15":tc_array_events["products"][i]["isCustomizable"],"dimension11":tc_array_events["products"][i]["skuCoverage"],"dimension12":tc_array_events["products"][i]["numRating"],"dimension14":tc_array_events["products"][i]["hasVideo"],"dimension16":tc_array_events["products"][i]["engravingNbLines"],"dimension17":tc_array_events["products"][i]["engravingFont"],"dimension18":tc_array_events["products"][i]["avgRating"]});ga("t55.ec:setAction","detail");ga("t55.send","event",eventCategory,eventAction,tc_array_events["products"][i].name+"|"+tc_array_events["products"][i].id);}
eventCategory="Cart";if(tc_array_events["event"]=="addToCartFromCartPage"){eventAction="Add to cart from cart";}
else if(tc_array_events["event"]=="addToCartAccount"){eventAction="Add to cart from account";}
for(j=0;j<tc_array_events["products"].length;j++){if(typeof tc_array_events["products"][j].product_currency!=="undefined"&&tc_array_events["products"][j].product_currency!==""){ga('set','currencyCode',tc_array_events["products"][j].product_currency);}
else{ga('set','currencyCode',tC.internalvars.currency);}
ga("t55.ec:addProduct",{"id":tc_array_events["products"][j]["id"],"name":tc_array_events["products"][j]["name"],"category":tc_array_events["products"][j]["category"],"brand":tc_array_events["products"][j]["brand"],"variant":tc_array_events["products"][j]["variant"],"price":tc_array_events["products"][j]["price"],"quantity":tc_array_events["products"][j]["quantity"],"dimension6":tc_array_events["products"][j]["productDisplayType"],"dimension10":tc_array_events["products"][j]["product_sku"],"dimension15":tc_array_events["products"][j]["isCustomizable"],"dimension11":tc_array_events["products"][j]["skuCoverage"],"dimension12":tc_array_events["products"][j]["numRating"],"dimension14":tc_array_events["products"][j]["hasVideo"],"dimension16":tc_array_events["products"][j]["engravingNbLines"],"dimension17":tc_array_events["products"][j]["engravingFont"],"dimension18":tc_array_events["products"][j]["avgRating"]});ga("t55.ec:setAction","add");ga("t55.send","event",eventCategory,eventAction,tc_array_events["products"][j].name+"|"+tc_array_events["products"][j].id);}
break;case"addToCartQuickView":case"addToCartFromExpress":case"addToCart":if(tc_array_events["event"]=="addToCartQuickView"){eventCategory="Product List";}
else if(tc_array_events["event"]=="addToCartFromExpress"){eventCategory="Product List";}
else if(tc_array_events["event"]=="addToCart"){eventCategory="Cart";}
eventAction="Add to cart";for(i=0;i<tc_array_events["products"].length;i++){if(typeof tc_array_events["products"][i].product_currency!=="undefined"&&tc_array_events["products"][i].product_currency!==""){ga('set','currencyCode',tc_array_events["products"][i].product_currency);}
else{ga('set','currencyCode',tC.internalvars.currency);}
ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"variant":tc_array_events["products"][i]["variant"],"price":tc_array_events["products"][i]["price"],"quantity":tc_array_events["products"][i]["quantity"],"dimension6":tc_array_events["products"][i]["productDisplayType"],"dimension10":tc_array_events["products"][i]["product_sku"],"dimension15":tc_array_events["products"][i]["isCustomizable"],"dimension11":tc_array_events["products"][i]["skuCoverage"],"dimension12":tc_array_events["products"][i]["numRating"],"dimension14":tc_array_events["products"][i]["hasVideo"],"dimension16":tc_array_events["products"][i]["engravingNbLines"],"dimension17":tc_array_events["products"][i]["engravingFont"],"dimension18":tc_array_events["products"][i]["avgRating"]});ga("t55.ec:setAction","add");ga("t55.send","event",eventCategory,eventAction,tc_array_events["products"][i].name+"|"+tc_array_events["products"][i].id);}
break;case"removeFromCart":config55.engagementLevel=config55.engagementLevelHierarchy[4];ga("t55.set","dimension2",tC.internalvars.engagementLevel());config55.omnichannelVisit=config55.omnichannelVisitHierarchy[3];ga("t55.set","dimension47",tC.internalvars.omnichannelVisit());for(i=0;i<tc_array_events["products"].length;i++){if(typeof tc_array_events["products"][i].product_currency!=="undefined"&&tc_array_events["products"][i].product_currency!==""){ga('set','currencyCode',tc_array_events["products"][i].product_currency);}
else{ga('set','currencyCode',tC.internalvars.currency);}
ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"variant":tc_array_events["products"][i]["variant"],"price":tc_array_events["products"][i]["price"],"quantity":tc_array_events["products"][i]["quantity"],"dimension10":tc_array_events["products"][i]["product_sku"],"dimension15":tc_array_events["products"][i]["isCustomizable"],"dimension11":tc_array_events["products"][i]["skuCoverage"],"dimension12":tc_array_events["products"][i]["numRating"],"dimension14":tc_array_events["products"][i]["hasVideo"],"dimension16":tc_array_events["products"][i]["engravingNbLines"],"dimension17":tc_array_events["products"][i]["engravingFont"],"dimension18":tc_array_events["products"][i]["avgRating"]});ga("t55.ec:setAction","remove");ga("t55.send","event","Cart","Remove from cart",tc_array_events["products"][i].name+"|"+tc_array_events["products"][i].id);}
break;case"widget_abuse_confirmed":if(tC.getCookie("tc_widget")===""||tC.getCookie("tc_widget").match("widget_abuse_confirmed")===null){tC.setCookie("tc_widget",tC.getCookie("tc_widget")+"widget_abuse_confirmed@");ga("t55.send","event","Live Chat","Report");}
break;case"widget_scored":if(tC.getCookie("tc_widget")===""||tC.getCookie("tc_widget").match("widget_scored")===null){tC.setCookie("tc_widget",tC.getCookie("tc_widget")+"widget_scored@");ga("t55.send","event","Live Chat","Rating");}
break;case"widget_interlocutor_called":if(tC.getCookie("tc_widget")===""||tC.getCookie("tc_widget").match("widget_interlocutor_called")===null){tC.setCookie("tc_widget",tC.getCookie("tc_widget")+"widget_interlocutor_called@");ga("t55.send","event","Live Chat","First interaction");}
break;case"widget_opened":if(tC.getCookie("tc_widget")===""||tC.getCookie("tc_widget").match("widget_opened")===null){tC.setCookie("tc_widget",tC.getCookie("tc_widget")+"widget_opened@");ga("t55.send","event","Live Chat","Open");}
break;case"widget_closed":if(tC.getCookie("tc_widget")===""||tC.getCookie("tc_widget").match("widget_closed")===null){tC.setCookie("tc_widget",tC.getCookie("tc_widget")+"widget_closed@");ga("t55.send","event","Live Chat","Close");}
break;case"eePromoView":for(i=0;i<tc_array_events["promotions"].length;i++){ga("t55.ec:addPromo",{"id":tc_array_events["promotions"][i]["id"],"name":tc_array_events["promotions"][i]["name"],"creative":tc_array_events["promotions"][i]["creative"],"position":tc_array_events["promotions"][i]["position"]});ga("t55.send","event","Internal Marketing","Promotion Impression",tc_array_events["promotions"][0]["name"],{nonInteraction:true});}
break;case"eePromoClick":for(i=0;i<tc_array_events["promotions"].length;i++){ga("t55.ec:addPromo",{"id":tc_array_events["promotions"][i]["id"],"name":tc_array_events["promotions"][i]["name"],"creative":tc_array_events["promotions"][i]["creative"],"position":tc_array_events["promotions"][i]["position"]});ga("t55.ec:setAction","promo_click");ga("t55.send","event","Internal Marketing","Promotion Click",tc_array_events["promotions"][0]["name"],{nonInteraction:true});}
break;case"productReview":config55.engagementLevel=config55.engagementLevelHierarchy[4];config55.omnichannelVisit=config55.omnichannelVisitHierarchy[3];ga("t55.send","event","Review","Review Post",tc_array_events["product_pid_name"]+"|"+tc_array_events["product_pid"],{"metric1":1,"dimension2":tC.internalvars.engagementLevel(),"dimension47":tC.internalvars.omnichannelVisit()});break;case"eeListClick":for(i=0;i<tc_array_events["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"price":tc_array_events["products"][i]["price"],"position":tc_array_events["products"][i]["position"]});ga("t55.ec:setAction","click",{list:tc_array_events["products"][i]["listName"]});ga("t55.send","event","Product List","Product Click",tc_array_events["products"][i].id);}
break;case"clickOnQuickLook":config55.engagementLevel=config55.engagementLevelHierarchy[1];ga("t55.set","dimension2",tC.internalvars.engagementLevel());for(i=0;i<tc_array_events["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"price":tc_array_events["products"][i]["price"],"brand":tc_array_events["products"][i]["brand"],"position":tc_array_events["products"][i]["position"]});ga("t55.ec:setAction","click",{list:tc_array_events["products"][i]["listName"]});ga("t55.send","event","Product List","Product Click",tc_array_events["products"][i].id);}
for(j=0;j<tc_array_events["products"].length;j++){ga("t55.ec:addProduct",{"id":tc_array_events["products"][j]["id"],"name":tc_array_events["products"][j]["name"],"category":tc_array_events["products"][j]["category"],"price":tc_array_events["products"][j]["price"],"brand":tc_array_events["products"][j]["brand"],"position":tc_array_events["products"][j]["position"],"dimension6":tc_array_events["products"][j]["productDisplayType"],"dimension10":tc_array_events["products"][j]["product_sku"],"dimension15":tc_array_events["products"][j]["isCustomizable"],"dimension11":tc_array_events["products"][j]["skuCoverage"],"dimension12":tc_array_events["products"][j]["numRating"],"dimension14":tc_array_events["products"][j]["hasVideo"],"dimension16":tc_array_events["products"][j]["engravingNbLines"],"dimension17":tc_array_events["products"][j]["engravingFont"],"dimension18":tc_array_events["products"][j]["avgRating"]});ga("t55.ec:setAction","detail");ga("t55.set","dimension4",tc_array_events["user_logged"]);ga("t55.set","dimension5",tc_array_events["buyerType"]);ga("t55.set","dimension19",tc_array_events["user_identified"]);ga("t55.set","dimension20",tc_array_events["user_loyalty_category"]);ga("t55.set","dimension23",tc_array_events["isCardOwner"]);ga("t55.set","dimension24",tc_array_events["user_loyalty_card"]);ga("t55.set","dimension25",tc_array_events["search_results_numbers"]);ga("t55.set","contentGroup1",tc_array_events["page_top_cat"]);ga("t55.set","contentGroup2",tc_array_events["page_cat"]);ga("t55.set","contentGroup3",tc_array_events["page_sub_cat"]);ga("t55.set","contentGroup4",tc_array_events["pageBrandEntryPoint"]);ga("t55.set","contentGroup5",tc_array_events["env_template"]);ga("t55.set","title",tc_array_events["page_name"]);ga("t55.set","page",tc_array_events["page"]);ga("t55.set","hostname",document.location.hostname);ga("t55.send","pageview",tc_array_events["page"]);}
break;case"twentyProductsScroll":ga('set','currencyCode',tC.internalvars.currency);for(i=0;i<tc_array_events["products"].length;i++){ga("t55.ec:addImpression",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"price":tc_array_events["products"][i]["price"],"list":tc_array_events["products"][i]["listName"],"position":tc_array_events["products"][i]["position"]});}
ga("t55.send","event","Product List","List Scroll",tc_array_events["listName"],{"dimension22":tc_array_events["appliedFilter"]});break;case"menuListImpression":ga('set','currencyCode',tC.internalvars.currency);for(i=0;i<tc_array_events["products"].length;i++){ga("t55.ec:addImpression",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"price":tc_array_events["products"][i]["price"],"list":tc_array_events["products"][i]["listName"],"position":tc_array_events["products"][i]["position"]});ga("t55.send","event","Drilldown menu","Product Impression:"+tc_array_events["products"][i].category,tc_array_events["products"][i].name+"|"+tc_array_events["products"][i].id);}
break;case"productReviewSeen":ga("t55.send","event","Scroll","Review block",tc_array_events["product_pid_name"]+"|"+tc_array_events["product_pid"],{"metric4":1});break;case"socialViralty":ga("t55.send","social","Social",tc_array_events["socialAction"],tc_array_events["socialType"]);break;case"identificationCheckoutStep":for(i=0;i<tc_array_events["products"].length;i++){ga("t55.ec:addProduct",{"id":tc_array_events["products"][i]["id"],"name":tc_array_events["products"][i]["name"],"category":tc_array_events["products"][i]["category"],"brand":tc_array_events["products"][i]["brand"],"price":tc_array_events["products"][i]["price"],"variant":tc_array_events["products"][i]["variant"],"quantity":tc_array_events["products"][i]["quantity"],"dimension6":tc_array_events["products"][i]["productDisplayType"],"dimension10":tc_array_events["products"][i]["product_sku"],"dimension15":tc_array_events["products"][i]["isCustomizable"],"dimension11":tc_array_events["products"][i][""],"dimension12":tc_array_events["products"][i]["numRating"],"dimension14":tc_array_events["products"][i]["hasVideo"],"dimension16":tc_array_events["products"][i]["engravingNbLines"],"dimension17":tc_array_events["products"][i]["engravingFont"],"dimension18":tc_array_events["products"][i]["avgRating"]});}
ga("t55.ec:setAction","checkout",{"step":tc_array_events["checkoutStep"]});ga("t55.set","dimension4",tc_array_events["user_logged"]);ga("t55.set","dimension5",tc_array_events["buyerType"]);ga("t55.set","dimension19",tc_array_events["user_identified"]);ga("t55.set","dimension20",tc_array_events["user_loyalty_category"]);ga("t55.set","dimension23",tc_array_events["isCardOwner"]);ga("t55.set","dimension24",tc_array_events["user_loyalty_card"]);ga("t55.set","dimension25",tc_array_events["search_results_numbers"]);ga("t55.set","dimension41",tc_array_events["payment_method"]);ga("t55.set","dimension42",tc_vars["shipping_method"]);ga("t55.set","contentGroup1",tc_array_events["page_top_cat"]);ga("t55.set","contentGroup2",tc_array_events["page_cat"]);ga("t55.set","contentGroup3",tc_array_events["page_sub_cat"]);ga("t55.set","contentGroup4",tc_array_events["pageBrandEntryPoint"]);ga("t55.set","contentGroup5",tc_array_events["env_template"]);ga("t55.set","title",tc_array_events["page_name"]);ga("t55.set","page",tc_array_events["page"]);ga("t55.set","hostname",document.location.hostname);ga("t55.send","pageview",tc_array_events["page"]);break;case"clickOnCustomize":case"clickOnAvaibility":case"clickOnAvailability":var uri="";if(tc_array_events["event"]=="clickOnCustomize"){config55.engagementLevel=config55.engagementLevelHierarchy[1];uri="/engraved";}
else if(tc_array_events["event"]=="clickOnAvaibility"||tc_array_events["event"]=="clickOnAvailability"){config55.engagementLevel=config55.engagementLevelHierarchy[3];uri="/available";}
ga("t55.set","dimension2",tC.internalvars.engagementLevel());ga("t55.set","dimension4",tc_array_events["user_logged"]);ga("t55.set","dimension5",tc_array_events["buyerType"]);ga("t55.set","dimension19",tc_array_events["user_identified"]);ga("t55.set","dimension20",tc_array_events["user_loyalty_category"]);ga("t55.set","dimension23",tc_array_events["isCardOwner"]);ga("t55.set","dimension24",tc_array_events["user_loyalty_card"]);if(tc_array_events["event"]=="clickOnAvaibility"||tc_array_events["event"]=="clickOnAvailability"){config55.omnichannelVisit=config55.omnichannelVisitHierarchy[2];ga("t55.set","dimension47",tC.internalvars.omnichannelVisit());}
ga("t55.set","contentGroup1",tc_array_events["page_top_cat"]);ga("t55.set","contentGroup2",tc_array_events["page_cat"]);ga("t55.set","contentGroup3",tc_array_events["page_sub_cat"]);ga("t55.set","contentGroup4",tc_array_events["pageBrandEntryPoint"]);ga("t55.set","contentGroup5",tc_array_events["env_template"]);ga("t55.set","title",tc_array_events["page_name"]);ga("t55.set","page",tc_array_events["page"]+uri);ga("t55.set","hostname",document.location.hostname);ga("t55.send","pageview",tc_array_events["page"]+uri);break;case"postSubmited":ga("t55.send","event","Beauty Board","Post creation");break;case"trackEvent":ga("t55.send","event",tc_array_events["eventCategory"],tc_array_events["eventAction"],tc_array_events["eventLabel"],{nonInteraction:tc_array_events["eventNonInteraction"]});break;default:tC.log(tc_array_events["event"]);break;}}}
if(tc_vars["env_country"]!='FR'){if(tc_array_events["id"].toString().toLowerCase().match(new RegExp(('*').replace(new RegExp("\\*","g"),".*"),"gi"))){tC.launchTag('e4','Forward events','-1','1010','2');tC.log("foward events beginning");if((tc_array_events["label"]!=""||tc_array_events["eventLabel"]!="")&&tc_vars["page_cat"]=="beauty tips"||tc_vars["env_country"]=="FR"){if(typeof tc_events_1!='undefined'){tC.log("Forward EVENTS to 1")
tc_events_1(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_3!='undefined'){tC.log("Forward EVENTS to 2")
tc_events_3(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_4!='undefined'){tC.log("Forward EVENTS to 3")
tc_events_4(this,tc_array_events["id"],tc_array_events)}}}}
if(tc_array_events["id"]=='click'){tC.launchTag('eclick','Events QA','-1','1010','2');tC.setCookie('tCdebugLib',1,30);if(typeof tc_array_events!="undefined"){tC.log("events variables: ");tC.log(tc_array_events);}}
if(tc_array_events["id"].toString().toLowerCase().match(new RegExp(('*').replace(new RegExp("\\*","g"),".*"),"gi"))){if(tc_vars["env_country"]=='PL'||tc_vars["env_country"]=='DK'||tc_vars["env_country"]=='ES'||tc_vars["env_country"]=='IT'||tc_vars["env_country"]=='SE'||tc_vars["env_country"]=='CZ'){tC.launchTag('e73','Fix forward events local container','-1','1010','2');if(typeof tc_events_1!='undefined'){tC.log("Forward EVENTS")
tc_events_1(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_3!='undefined'){tC.log("Forward EVENTS")
tc_events_3(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_4!='undefined'){tC.log("Forward EVENTS")
tc_events_4(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_5!='undefined'){tC.log("Forward EVENTS")
tc_events_5(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_6!='undefined'){tC.log("Forward EVENTS")
tc_events_6(this,tc_array_events["id"],tc_array_events)}
if(typeof tc_events_7!='undefined'){tC.log("Forward EVENTS")
tc_events_7(this,tc_array_events["id"],tc_array_events)}}}}
tC.onDomReady(function(){tC.container_1010_2.eventlisteners();});